<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Data processing | No effect of different types of media on well-being</title>
  <meta name="description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Data processing | No effect of different types of media on well-being" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/digital-wellbeing/cultural-consumption" />
  
  <meta property="og:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="github-repo" content="digital-wellbeing/cultural-consumption" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Data processing | No effect of different types of media on well-being" />
  
  <meta name="twitter:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  

<meta name="author" content="[blinded for peer review]" />


<meta name="date" content="2021-04-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="setting-up.html"/>
<link rel="next" href="descriptives-and-visualizations.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysis Report</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#data-and-models"><i class="fa fa-check"></i><b>0.1</b> Data and models</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#how-to-reproduce-processing-and-analyses"><i class="fa fa-check"></i><b>0.2</b> How to reproduce processing and analyses</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="setting-up.html"><a href="setting-up.html"><i class="fa fa-check"></i><b>1</b> Setting-up</a></li>
<li class="chapter" data-level="2" data-path="data-processing.html"><a href="data-processing.html"><i class="fa fa-check"></i><b>2</b> Data processing</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-processing.html"><a href="data-processing.html#read-waves-2-6"><i class="fa fa-check"></i><b>2.1</b> Read waves 2-6</a></li>
<li class="chapter" data-level="2.2" data-path="data-processing.html"><a href="data-processing.html#read-wave-1"><i class="fa fa-check"></i><b>2.2</b> Read wave 1</a></li>
<li class="chapter" data-level="2.3" data-path="data-processing.html"><a href="data-processing.html#data-cleaning"><i class="fa fa-check"></i><b>2.3</b> Data cleaning</a></li>
<li class="chapter" data-level="2.4" data-path="data-processing.html"><a href="data-processing.html#response-rates-and-missing-values"><i class="fa fa-check"></i><b>2.4</b> Response rates and missing values</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-processing.html"><a href="data-processing.html#participants-per-wave"><i class="fa fa-check"></i><b>2.4.1</b> Participants per wave</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-processing.html"><a href="data-processing.html#responses-per-wave-and-medium"><i class="fa fa-check"></i><b>2.4.2</b> Responses per wave and medium</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-processing.html"><a href="data-processing.html#data-quality-and-exclusions"><i class="fa fa-check"></i><b>2.5</b> Data quality and exclusions</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="data-processing.html"><a href="data-processing.html#implausible-values"><i class="fa fa-check"></i><b>2.5.1</b> Implausible values</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-processing.html"><a href="data-processing.html#response-patterns"><i class="fa fa-check"></i><b>2.5.2</b> Response patterns</a></li>
<li class="chapter" data-level="2.5.3" data-path="data-processing.html"><a href="data-processing.html#applying-exclusions"><i class="fa fa-check"></i><b>2.5.3</b> Applying exclusions</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-processing.html"><a href="data-processing.html#build-scales"><i class="fa fa-check"></i><b>2.6</b> Build scales</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html"><i class="fa fa-check"></i><b>3</b> Descriptives and visualizations</a>
<ul>
<li class="chapter" data-level="3.1" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#person-level"><i class="fa fa-check"></i><b>3.2</b> Person-level</a></li>
<li class="chapter" data-level="3.3" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#wave-level-1"><i class="fa fa-check"></i><b>3.3</b> Wave-level</a></li>
<li class="chapter" data-level="3.4" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#correlation-matrices"><i class="fa fa-check"></i><b>3.4</b> Correlation matrices</a></li>
<li class="chapter" data-level="3.5" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#plots-for-paper"><i class="fa fa-check"></i><b>3.5</b> Plots for Paper</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>4</b> Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="analysis.html"><a href="analysis.html#data-preparation"><i class="fa fa-check"></i><b>4.1</b> Data preparation</a></li>
<li class="chapter" data-level="4.2" data-path="analysis.html"><a href="analysis.html#music"><i class="fa fa-check"></i><b>4.2</b> Music</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="analysis.html"><a href="analysis.html#affect"><i class="fa fa-check"></i><b>4.2.1</b> Affect</a></li>
<li class="chapter" data-level="4.2.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction"><i class="fa fa-check"></i><b>4.2.2</b> Life Satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="analysis.html"><a href="analysis.html#films"><i class="fa fa-check"></i><b>4.3</b> Films</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="analysis.html"><a href="analysis.html#affect-1"><i class="fa fa-check"></i><b>4.3.1</b> Affect</a></li>
<li class="chapter" data-level="4.3.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-1"><i class="fa fa-check"></i><b>4.3.2</b> Life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="analysis.html"><a href="analysis.html#tv"><i class="fa fa-check"></i><b>4.4</b> TV</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="analysis.html"><a href="analysis.html#affect-2"><i class="fa fa-check"></i><b>4.4.1</b> Affect</a></li>
<li class="chapter" data-level="4.4.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-2"><i class="fa fa-check"></i><b>4.4.2</b> Life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="analysis.html"><a href="analysis.html#video-games"><i class="fa fa-check"></i><b>4.5</b> Video games</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="analysis.html"><a href="analysis.html#affect-3"><i class="fa fa-check"></i><b>4.5.1</b> Affect</a></li>
<li class="chapter" data-level="4.5.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-3"><i class="fa fa-check"></i><b>4.5.2</b> Life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="analysis.html"><a href="analysis.html#e-books"><i class="fa fa-check"></i><b>4.6</b> (E-)books</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="analysis.html"><a href="analysis.html#affect-4"><i class="fa fa-check"></i><b>4.6.1</b> Affect</a></li>
<li class="chapter" data-level="4.6.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-4"><i class="fa fa-check"></i><b>4.6.2</b> Life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="analysis.html"><a href="analysis.html#magazines"><i class="fa fa-check"></i><b>4.7</b> Magazines</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="analysis.html"><a href="analysis.html#affect-5"><i class="fa fa-check"></i><b>4.7.1</b> Affect</a></li>
<li class="chapter" data-level="4.7.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-5"><i class="fa fa-check"></i><b>4.7.2</b> Life satisfaction</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="analysis.html"><a href="analysis.html#audiobooks"><i class="fa fa-check"></i><b>4.8</b> Audiobooks</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="analysis.html"><a href="analysis.html#affect-6"><i class="fa fa-check"></i><b>4.8.1</b> Affect</a></li>
<li class="chapter" data-level="4.8.2" data-path="analysis.html"><a href="analysis.html#life-satisfaction-6"><i class="fa fa-check"></i><b>4.8.2</b> Life satisfaction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="synthesis.html"><a href="synthesis.html"><i class="fa fa-check"></i><b>5</b> Synthesis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="synthesis.html"><a href="synthesis.html#create-a-summary-graph"><i class="fa fa-check"></i><b>5.1</b> Create a summary graph</a></li>
<li class="chapter" data-level="5.2" data-path="synthesis.html"><a href="synthesis.html#interpreting-the-results"><i class="fa fa-check"></i><b>5.2</b> Interpreting the results</a></li>
<li class="chapter" data-level="5.3" data-path="synthesis.html"><a href="synthesis.html#take-aways"><i class="fa fa-check"></i><b>5.3</b> Take-aways</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">No effect of different types of media on well-being</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-processing" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Data processing</h1>
<p>In this section I’ll process the raw data so that I can use them for analysis in the next section.
Note that the data were slightly preprocessed: I only selected variables that we use for processing and analysis here.
Other than that, the data were untouched.</p>
<p>The data are on the OSF.
You can download them if you set the code chunk below to <code>eval=TRUE</code>.
Downloading only works when the OSF project is public.
If it isn’t during peer review, you’ll need to paste the data files from the OSF to the <code>data/</code> folder manually.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-processing.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory</span></span>
<span id="cb3-2"><a href="data-processing.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;data/&quot;</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb3-3"><a href="data-processing.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="data-processing.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download models</span></span>
<span id="cb3-5"><a href="data-processing.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">osf_retrieve_node</span>(<span class="st">&quot;https://osf.io/yn7sx/?view_only=2d0d8bf4850d4ace8a08c860bc45e9f2&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="data-processing.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_ls_nodes</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="data-processing.html#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="data-processing.html#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_ls_files</span>(</span>
<span id="cb3-9"><a href="data-processing.html#cb3-9" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb3-10"><a href="data-processing.html#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_max =</span> <span class="cn">Inf</span></span>
<span id="cb3-11"><a href="data-processing.html#cb3-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="data-processing.html#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_download</span>(</span>
<span id="cb3-13"><a href="data-processing.html#cb3-13" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb3-14"><a href="data-processing.html#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> <span class="fu">here</span>(<span class="st">&quot;data&quot;</span>),</span>
<span id="cb3-15"><a href="data-processing.html#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> <span class="cn">FALSE</span></span>
<span id="cb3-16"><a href="data-processing.html#cb3-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 x 4
##   name               id                       local_path              meta            
##   &lt;chr&gt;              &lt;chr&gt;                    &lt;chr&gt;                   &lt;list&gt;          
## 1 wave1.csv          60746bd2f2ad330543a747fa data/wave1.csv          &lt;named list [3]&gt;
## 2 example_id.csv     60746bd2f2ad330543a747ff data/example_id.csv     &lt;named list [3]&gt;
## 3 waves_2_to_6.csv   60746bd351f7ae051cf51cc6 data/waves_2_to_6.csv   &lt;named list [3]&gt;
## 4 codebook.xlsx      60746be8f6585f051e61be70 data/codebook.xlsx      &lt;named list [3]&gt;
## 5 processed_data.rds 60747466f6585f051b61b85e data/processed_data.rds &lt;named list [3]&gt;</code></pre>
<div id="read-waves-2-6" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Read waves 2-6</h2>
<p>We’ll start with loading the data for waves 2 to 6.
We start here instead of wave 1 because participant identification isn’t super straightforward.
A participant doesn’t get a single unique identifier that’s stable across all waves.
Instead, participants start with an ID in wave 1 (called <code>transaction_idOld</code> in the wave 2 to 6 data) and get a new unique ID for wave 2 and so on.</p>
<p>I believe originally the researchers wanted to go with a single ID, but changed their mind.
Look at the data table below (<a href="data-processing.html#tab:example-ids">2.1</a>), where I made up two participants to recreate the data structure.
We see that the first participant has an transaction ID (<code>transaction_idOld</code>) for the first wave.
The same participant then has that same old transaction ID for wave two, plus a new transaction ID for wave 2 (<code>transaction_id</code>).</p>
Here’s where it gets a bit complicated: That transaction ID for wave 2 is repeated on wave 3, but with a different name (<code>transaction_idW2</code>).
Next to that new variable, is the unique ID for that wave (<code>transaction_idW3</code>).
After that, each new wave has the ID of the previous wave plus a new ID for the current wave.
<table class="table" style="font-size: 8px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:example-ids">Table 2.1: </span>Example of how ID variables look like
</caption>
<thead>
<tr>
<th style="text-align:right;">
id
</th>
<th style="text-align:right;">
transaction_old
</th>
<th style="text-align:right;">
transaction_id
</th>
<th style="text-align:right;">
transaction_idW2
</th>
<th style="text-align:right;">
transaction_idW3
</th>
<th style="text-align:right;">
transaction_idW4
</th>
<th style="text-align:right;">
transaction_idW5
</th>
<th style="text-align:right;">
transaction_idW6
</th>
<th style="text-align:right;">
week
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
978344791
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
978344791
</td>
<td style="text-align:right;">
987910814
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
987910814
</td>
<td style="text-align:right;">
994717737
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
994717737
</td>
<td style="text-align:right;">
998317051
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
998317051
</td>
<td style="text-align:right;">
1005222579
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1005222579
</td>
<td style="text-align:right;">
1018946937
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
978344792
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
978344792
</td>
<td style="text-align:right;">
987910815
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
987910815
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
6
</td>
</tr>
</tbody>
</table>
<p>Unfortunately, the <code>id</code> column from the example isn’t included in the raw data, so we’ll have to recreate participant IDs that are constant across waves.
I solved this problem with a loop, which is definitely not the most elegant way to go about this, but I think it gets the job done.
First, lets load the data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-processing.html#cb5-1" aria-hidden="true" tabindex="-1"></a>waves_2_to_6 <span class="ot">&lt;-</span> </span>
<span id="cb5-2"><a href="data-processing.html#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb5-3"><a href="data-processing.html#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;waves_2_to_6.csv&quot;</span>),</span>
<span id="cb5-4"><a href="data-processing.html#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">guess_max =</span> <span class="fl">2e4</span></span>
<span id="cb5-5"><a href="data-processing.html#cb5-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="data-processing.html#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>X1) <span class="co"># remove rownumber</span></span></code></pre></div>
<p>Next, the logic behind assigning the constant IDs.
We’ll start at the ID of wave 2, find the ID of wave 3 that’s on the same line as the ID of wave 2 and store the ID for wave 3.
We repeat this procedure for all waves and in the end assign an ID to those rows that have the IDs we extracted on any of the ID variables.</p>
<p>The steps, concretely:</p>
<ol style="list-style-type: decimal">
<li>We store all IDs (so that’s the IDs of wave 2) in a vector (excluding <code>NA</code>s).</li>
<li>Initiate an ID counter (i.e., the participant number we assign later).</li>
<li>We iterate over each wave 2 ID.</li>
<li>If participants did participate in a wave, we find the wave 3 ID that is on the same row as the wave 2 that we’re currently looking for.</li>
<li>We now look for the wave 3 ID and store the wave 4 ID that’s on the same line.</li>
<li>We repeat that until we’re at the last ID and have all IDs for that participant stored in a vector.</li>
<li>Then a row gets assigned the participant ID (to the existing, but empty <code>id</code> variable) if any of the wave ID variables have a match in the extracted IDs.</li>
</ol>
<p>On my machine, the below code takes about three minutes.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-processing.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the unique wave 2 IDs</span></span>
<span id="cb6-2"><a href="data-processing.html#cb6-2" aria-hidden="true" tabindex="-1"></a>ids <span class="ot">&lt;-</span> waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="data-processing.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(transaction_id) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="data-processing.html#cb6-4" aria-hidden="true" tabindex="-1"></a>  na.omit</span>
<span id="cb6-5"><a href="data-processing.html#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="data-processing.html#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co"># the participant number we assign later</span></span>
<span id="cb6-7"><a href="data-processing.html#cb6-7" aria-hidden="true" tabindex="-1"></a>id_counter <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb6-8"><a href="data-processing.html#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="data-processing.html#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># assign the correct variable type to the empty ID variable that&#39;s already in the data where we&#39;ll assign participant numbers at the end of the loop</span></span>
<span id="cb6-10"><a href="data-processing.html#cb6-10" aria-hidden="true" tabindex="-1"></a>waves_2_to_6<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="cn">NA_real_</span></span>
<span id="cb6-11"><a href="data-processing.html#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="data-processing.html#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (an_id <span class="cf">in</span> ids) {</span>
<span id="cb6-13"><a href="data-processing.html#cb6-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-14"><a href="data-processing.html#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># transaction ids that belong to that one participant</span></span>
<span id="cb6-15"><a href="data-processing.html#cb6-15" aria-hidden="true" tabindex="-1"></a>  id_to_match <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb6-16"><a href="data-processing.html#cb6-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-17"><a href="data-processing.html#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add the initial id</span></span>
<span id="cb6-18"><a href="data-processing.html#cb6-18" aria-hidden="true" tabindex="-1"></a>  id_to_match <span class="ot">&lt;-</span> <span class="fu">c</span>(id_to_match, an_id)</span>
<span id="cb6-19"><a href="data-processing.html#cb6-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-20"><a href="data-processing.html#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># assign that id as temporary ID for which we should match (id_to_match only has one entry so far)</span></span>
<span id="cb6-21"><a href="data-processing.html#cb6-21" aria-hidden="true" tabindex="-1"></a>  temp_id <span class="ot">&lt;-</span> id_to_match</span>
<span id="cb6-22"><a href="data-processing.html#cb6-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-23"><a href="data-processing.html#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># at this point, participants might have not participated in the next wave, so they might have an empty cell in</span></span>
<span id="cb6-24"><a href="data-processing.html#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># transaction_id2. so we&#39;ll embed everything that follows in their separate if statement</span></span>
<span id="cb6-25"><a href="data-processing.html#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is_empty</span>(temp_id)) {</span>
<span id="cb6-26"><a href="data-processing.html#cb6-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-27"><a href="data-processing.html#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># find the transcation_id3 that&#39;s on the same line as transaction_id2 and store it</span></span>
<span id="cb6-28"><a href="data-processing.html#cb6-28" aria-hidden="true" tabindex="-1"></a>    temp_id <span class="ot">&lt;-</span> </span>
<span id="cb6-29"><a href="data-processing.html#cb6-29" aria-hidden="true" tabindex="-1"></a>      waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-30"><a href="data-processing.html#cb6-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(transaction_idW2 <span class="sc">==</span> an_id) <span class="sc">%&gt;%</span> </span>
<span id="cb6-31"><a href="data-processing.html#cb6-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(transaction_idW3)</span>
<span id="cb6-32"><a href="data-processing.html#cb6-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-33"><a href="data-processing.html#cb6-33" aria-hidden="true" tabindex="-1"></a>    id_to_match <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">c</span>(id_to_match, temp_id)) <span class="co"># so that NA doesn&#39;t become one of the IDs</span></span>
<span id="cb6-34"><a href="data-processing.html#cb6-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-35"><a href="data-processing.html#cb6-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-36"><a href="data-processing.html#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is_empty</span>(temp_id)){</span>
<span id="cb6-37"><a href="data-processing.html#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># then the same for transaction_id4, but this time we compare to the temporary id we extracted above</span></span>
<span id="cb6-38"><a href="data-processing.html#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># also, we only select those rows where the next ID isn&#39;t NA (because there&#39;re two matches for the temp_id)</span></span>
<span id="cb6-39"><a href="data-processing.html#cb6-39" aria-hidden="true" tabindex="-1"></a>    temp_id <span class="ot">&lt;-</span> </span>
<span id="cb6-40"><a href="data-processing.html#cb6-40" aria-hidden="true" tabindex="-1"></a>      waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-41"><a href="data-processing.html#cb6-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>((transaction_idW3 <span class="sc">==</span> temp_id) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(transaction_idW4)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-42"><a href="data-processing.html#cb6-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(transaction_idW4)</span>
<span id="cb6-43"><a href="data-processing.html#cb6-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-44"><a href="data-processing.html#cb6-44" aria-hidden="true" tabindex="-1"></a>    id_to_match <span class="ot">&lt;-</span> <span class="fu">c</span>(id_to_match, temp_id)</span>
<span id="cb6-45"><a href="data-processing.html#cb6-45" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-46"><a href="data-processing.html#cb6-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-47"><a href="data-processing.html#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is_empty</span>(temp_id)){</span>
<span id="cb6-48"><a href="data-processing.html#cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="co"># then the same as above for transaction_id5</span></span>
<span id="cb6-49"><a href="data-processing.html#cb6-49" aria-hidden="true" tabindex="-1"></a>    temp_id <span class="ot">&lt;-</span> </span>
<span id="cb6-50"><a href="data-processing.html#cb6-50" aria-hidden="true" tabindex="-1"></a>      waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-51"><a href="data-processing.html#cb6-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>((transaction_idW4 <span class="sc">==</span> temp_id) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(transaction_idW5)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-52"><a href="data-processing.html#cb6-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(transaction_idW5)</span>
<span id="cb6-53"><a href="data-processing.html#cb6-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-54"><a href="data-processing.html#cb6-54" aria-hidden="true" tabindex="-1"></a>    id_to_match <span class="ot">&lt;-</span> <span class="fu">c</span>(id_to_match, temp_id)</span>
<span id="cb6-55"><a href="data-processing.html#cb6-55" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-56"><a href="data-processing.html#cb6-56" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-57"><a href="data-processing.html#cb6-57" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is_empty</span>(temp_id)){</span>
<span id="cb6-58"><a href="data-processing.html#cb6-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and last for transaction_id6</span></span>
<span id="cb6-59"><a href="data-processing.html#cb6-59" aria-hidden="true" tabindex="-1"></a>    temp_id <span class="ot">&lt;-</span> </span>
<span id="cb6-60"><a href="data-processing.html#cb6-60" aria-hidden="true" tabindex="-1"></a>      waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-61"><a href="data-processing.html#cb6-61" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>((transaction_idW5 <span class="sc">==</span> temp_id) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(transaction_idW6)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-62"><a href="data-processing.html#cb6-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">pull</span>(transaction_idW6)</span>
<span id="cb6-63"><a href="data-processing.html#cb6-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-64"><a href="data-processing.html#cb6-64" aria-hidden="true" tabindex="-1"></a>    id_to_match <span class="ot">&lt;-</span> <span class="fu">c</span>(id_to_match, temp_id)</span>
<span id="cb6-65"><a href="data-processing.html#cb6-65" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-66"><a href="data-processing.html#cb6-66" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-67"><a href="data-processing.html#cb6-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># then we assign a participant number, such that a participant gets the number for each row where any of their transaction_ids are part of the temporary ids</span></span>
<span id="cb6-68"><a href="data-processing.html#cb6-68" aria-hidden="true" tabindex="-1"></a>  waves_2_to_6 <span class="ot">&lt;-</span> </span>
<span id="cb6-69"><a href="data-processing.html#cb6-69" aria-hidden="true" tabindex="-1"></a>    waves_2_to_6 <span class="sc">%&gt;%</span> </span>
<span id="cb6-70"><a href="data-processing.html#cb6-70" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb6-71"><a href="data-processing.html#cb6-71" aria-hidden="true" tabindex="-1"></a>      <span class="at">id =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-72"><a href="data-processing.html#cb6-72" aria-hidden="true" tabindex="-1"></a>        transaction_id <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-73"><a href="data-processing.html#cb6-73" aria-hidden="true" tabindex="-1"></a>        transaction_idW2 <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-74"><a href="data-processing.html#cb6-74" aria-hidden="true" tabindex="-1"></a>        transaction_idW3 <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-75"><a href="data-processing.html#cb6-75" aria-hidden="true" tabindex="-1"></a>        transaction_idW4 <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-76"><a href="data-processing.html#cb6-76" aria-hidden="true" tabindex="-1"></a>        transaction_idW5 <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-77"><a href="data-processing.html#cb6-77" aria-hidden="true" tabindex="-1"></a>        transaction_idW6 <span class="sc">%in%</span> id_to_match <span class="sc">~</span> id_counter,</span>
<span id="cb6-78"><a href="data-processing.html#cb6-78" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> id</span>
<span id="cb6-79"><a href="data-processing.html#cb6-79" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-80"><a href="data-processing.html#cb6-80" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-81"><a href="data-processing.html#cb6-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-82"><a href="data-processing.html#cb6-82" aria-hidden="true" tabindex="-1"></a>  <span class="co"># increase the participant number</span></span>
<span id="cb6-83"><a href="data-processing.html#cb6-83" aria-hidden="true" tabindex="-1"></a>  id_counter <span class="ot">&lt;-</span> id_counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb6-84"><a href="data-processing.html#cb6-84" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p>Before we we assign correct variable types, name factor levels etc. we’ll load wave 1.
This way, we can merge the two files first before doing all of the data cleaning, variable selection, and variable renaming.</p>
</div>
<div id="read-wave-1" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Read wave 1</h2>
<p>Let’s load the file for wave 1.
<code>transcaction_id</code> is the unique identifier for each participant.
However, that variables is called <code>transaction_idOld</code> in waves 2 to 6, which is why we name it the same here (see above).
Also, <code>dWeekMerged</code> is the wave identifier that’s used in waves 2 to 6, so we’ll include that manually here.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-processing.html#cb7-1" aria-hidden="true" tabindex="-1"></a>wave1 <span class="ot">&lt;-</span> </span>
<span id="cb7-2"><a href="data-processing.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb7-3"><a href="data-processing.html#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;wave1.csv&quot;</span>),</span>
<span id="cb7-4"><a href="data-processing.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">guess_max =</span> <span class="fl">2e4</span></span>
<span id="cb7-5"><a href="data-processing.html#cb7-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="data-processing.html#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>X1) <span class="sc">%&gt;%</span> <span class="co"># remove row number</span></span>
<span id="cb7-7"><a href="data-processing.html#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">transaction_idOld =</span> transaction_id) <span class="sc">%&gt;%</span> </span>
<span id="cb7-8"><a href="data-processing.html#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">dWeekMerged =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>There are many variables we don’t care about, but before we make the variable selection, I’ll first merge the two files.
Here’s another complication: If we look at the surveys and how variables are named there, it looks like there are different labels for the same variables in wave 1 and waves 2 to 6.
For example, in wave 1, variables providing the estimated time with a medium had the appendix <code>ai</code> and those asking about self-estimated increases or decreases in frequency had the appendix <code>aii</code>.
For waves 2 to 6, the surveys say that this is reversed, such that estimated time with a medium has the appendix <code>aii</code> and self-estimated increase or decrease has the appendix <code>ai</code>.</p>
<p>The same goes for variable names: For example, the audiobooks section in wave 1 begins with <code>C7c</code>, but with <code>C6c</code> in waves 2 to 6.
In the actual data, however, variable names are constant (see the codebook).
For example, audiobooks are <code>C7c</code> in both data sets despite what the survey files say.
The variable labels are the same across all waves (I manually checked), which makes merging easier.</p>
<p>My merging strategy is as follows:</p>
<ol style="list-style-type: decimal">
<li>I assign the <code>id</code> we created above to the <code>wave1</code> data file by merging by <code>transaction_idOld</code> which is available in both data sets.
However, that means that those who didn’t participate in wave 2 won’t have an <code>id</code>.
So we manually fill those empty cells up - although we’ll probably exclude those who only participant in wave 1 later anyways.</li>
<li>I then add the rows of <code>waves_2_to_6</code> to <code>waves1</code>. I use the <code>bind_rows</code> command, which maintains all variables for which there’s no match and sets them to <code>NA</code> - exactly what we want, because full demographics are only in wave 1 and newer questions only in later waves.</li>
</ol>
<p>Note that from now on I leave the raw wave data untouched and make all changes in a working file.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-processing.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add the id variable to wave1 by merging by transaction_idOld that&#39;s in both data sets</span></span>
<span id="cb8-2"><a href="data-processing.html#cb8-2" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb8-3"><a href="data-processing.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb8-4"><a href="data-processing.html#cb8-4" aria-hidden="true" tabindex="-1"></a>    wave1,</span>
<span id="cb8-5"><a href="data-processing.html#cb8-5" aria-hidden="true" tabindex="-1"></a>    waves_2_to_6 <span class="sc">%&gt;%</span> <span class="fu">select</span>(transaction_idOld, id),</span>
<span id="cb8-6"><a href="data-processing.html#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;transaction_idOld&quot;</span></span>
<span id="cb8-7"><a href="data-processing.html#cb8-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-8"><a href="data-processing.html#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="data-processing.html#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># assign an id to those in wave 1 who have an NA in the id column because they didn&#39;t participate in later waves</span></span>
<span id="cb8-10"><a href="data-processing.html#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># we can do this easily with coalesce, for which we create a vector that continues from the current max ID until each participant with missing ID has one</span></span>
<span id="cb8-11"><a href="data-processing.html#cb8-11" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb8-12"><a href="data-processing.html#cb8-12" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="data-processing.html#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-14"><a href="data-processing.html#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">coalesce</span>(</span>
<span id="cb8-15"><a href="data-processing.html#cb8-15" aria-hidden="true" tabindex="-1"></a>      id,</span>
<span id="cb8-16"><a href="data-processing.html#cb8-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">max</span>(working_file<span class="sc">$</span>id, <span class="at">na.rm =</span> T)<span class="sc">+</span><span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(working_file)</span>
<span id="cb8-17"><a href="data-processing.html#cb8-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-18"><a href="data-processing.html#cb8-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-19"><a href="data-processing.html#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="data-processing.html#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># then add the rows of waves 2 to 6 to wave 1</span></span>
<span id="cb8-21"><a href="data-processing.html#cb8-21" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb8-22"><a href="data-processing.html#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(</span>
<span id="cb8-23"><a href="data-processing.html#cb8-23" aria-hidden="true" tabindex="-1"></a>    working_file,</span>
<span id="cb8-24"><a href="data-processing.html#cb8-24" aria-hidden="true" tabindex="-1"></a>    waves_2_to_6</span>
<span id="cb8-25"><a href="data-processing.html#cb8-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="data-cleaning" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Data cleaning</h2>
<p>Now that each participant has a constant identifier and all waves are merged, we can select those variables we actually need.
For our purposes, we’ll retain:</p>
<ul>
<li>demographic information</li>
<li>variables indicating what media people used in the past week</li>
<li>time estimates of those uses</li>
<li>self-estimated importance of the medium</li>
<li>self-estimated frequency</li>
<li>the estimated effects on well-being in wave 6</li>
</ul>
<p>Note that there are quite a lot of filtering variables.
We can’t collapse these to one variable because these questions were multiple choice.</p>
<p>Also, variables <code>C1x1aii</code> to <code>C7cx1aii</code> ask about estimates of change of media use.
However, the first wave has a different time frame (“Since the COVID-19 pandemic”) than the following waves (“Compared to the week before”), but assess the same concept: estimates of change.
We don’t formally analyze these variables, but use their data in all waves a) to impute missing values later in data processing, b) in visualizations to help readers understand the data structure.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-processing.html#cb9-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span></span>
<span id="cb9-2"><a href="data-processing.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="data-processing.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb9-4"><a href="data-processing.html#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># meta information</span></span>
<span id="cb9-5"><a href="data-processing.html#cb9-5" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb9-6"><a href="data-processing.html#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">wave =</span> dWeekMerged,</span>
<span id="cb9-7"><a href="data-processing.html#cb9-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-8"><a href="data-processing.html#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># demographics</span></span>
<span id="cb9-9"><a href="data-processing.html#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> A4,</span>
<span id="cb9-10"><a href="data-processing.html#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> A5,</span>
<span id="cb9-11"><a href="data-processing.html#cb9-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-12"><a href="data-processing.html#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter questions: downloaded</span></span>
<span id="cb9-13"><a href="data-processing.html#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_music =</span> B1r1,</span>
<span id="cb9-14"><a href="data-processing.html#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_music_videos =</span> B1r2,</span>
<span id="cb9-15"><a href="data-processing.html#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_video_games =</span> B1r3,</span>
<span id="cb9-16"><a href="data-processing.html#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_software =</span> B1r4,</span>
<span id="cb9-17"><a href="data-processing.html#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_films =</span> B1r5,</span>
<span id="cb9-18"><a href="data-processing.html#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_tv =</span> B1r6,</span>
<span id="cb9-19"><a href="data-processing.html#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_sports =</span> B1r7,</span>
<span id="cb9-20"><a href="data-processing.html#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_video_clips =</span> B1r8,</span>
<span id="cb9-21"><a href="data-processing.html#cb9-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_ebooks =</span> B1r9,</span>
<span id="cb9-22"><a href="data-processing.html#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_magazines =</span> B1r10,</span>
<span id="cb9-23"><a href="data-processing.html#cb9-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_audiobooks =</span> B1r11,</span>
<span id="cb9-24"><a href="data-processing.html#cb9-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_images =</span> B1r12,</span>
<span id="cb9-25"><a href="data-processing.html#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">downloaded_none =</span> B1r13,</span>
<span id="cb9-26"><a href="data-processing.html#cb9-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-27"><a href="data-processing.html#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter questions: streamed</span></span>
<span id="cb9-28"><a href="data-processing.html#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_music =</span> B2r1,</span>
<span id="cb9-29"><a href="data-processing.html#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_music_videos =</span> B2r2,</span>
<span id="cb9-30"><a href="data-processing.html#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_video_games =</span> B2r3,</span>
<span id="cb9-31"><a href="data-processing.html#cb9-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_software =</span> B2r4,</span>
<span id="cb9-32"><a href="data-processing.html#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_films =</span> B2r5,</span>
<span id="cb9-33"><a href="data-processing.html#cb9-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_tv =</span> B2r6,</span>
<span id="cb9-34"><a href="data-processing.html#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_sports =</span> B2r7,</span>
<span id="cb9-35"><a href="data-processing.html#cb9-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_video_clips =</span> B2r8,</span>
<span id="cb9-36"><a href="data-processing.html#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_ebooks =</span> B2r9,</span>
<span id="cb9-37"><a href="data-processing.html#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_magazines =</span> B2r10,</span>
<span id="cb9-38"><a href="data-processing.html#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_audiobooks =</span> B2r11,</span>
<span id="cb9-39"><a href="data-processing.html#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_images =</span> B2r12,</span>
<span id="cb9-40"><a href="data-processing.html#cb9-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">streamed_none =</span> B2r13,</span>
<span id="cb9-41"><a href="data-processing.html#cb9-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-42"><a href="data-processing.html#cb9-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter questions: shared</span></span>
<span id="cb9-43"><a href="data-processing.html#cb9-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_music =</span> B3r1,</span>
<span id="cb9-44"><a href="data-processing.html#cb9-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_music_videos =</span> B3r2,</span>
<span id="cb9-45"><a href="data-processing.html#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_video_games =</span> B3r3,</span>
<span id="cb9-46"><a href="data-processing.html#cb9-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_software =</span> B3r4,</span>
<span id="cb9-47"><a href="data-processing.html#cb9-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_films =</span> B3r5,</span>
<span id="cb9-48"><a href="data-processing.html#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_tv =</span> B3r6,</span>
<span id="cb9-49"><a href="data-processing.html#cb9-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_sports =</span> B3r7,</span>
<span id="cb9-50"><a href="data-processing.html#cb9-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_video_clips =</span> B3r8,</span>
<span id="cb9-51"><a href="data-processing.html#cb9-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_ebooks =</span> B3r9,</span>
<span id="cb9-52"><a href="data-processing.html#cb9-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_magazines =</span> B3r10,</span>
<span id="cb9-53"><a href="data-processing.html#cb9-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_audiobooks =</span> B3r11,</span>
<span id="cb9-54"><a href="data-processing.html#cb9-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_images =</span> B3r12,</span>
<span id="cb9-55"><a href="data-processing.html#cb9-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">shared_none =</span> B3r13,</span>
<span id="cb9-56"><a href="data-processing.html#cb9-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-57"><a href="data-processing.html#cb9-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># filter questions: bought</span></span>
<span id="cb9-58"><a href="data-processing.html#cb9-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_music =</span> B4r1,</span>
<span id="cb9-59"><a href="data-processing.html#cb9-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_video_games =</span> B4r2,</span>
<span id="cb9-60"><a href="data-processing.html#cb9-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_software =</span> B4r3,</span>
<span id="cb9-61"><a href="data-processing.html#cb9-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_films =</span> B4r4,</span>
<span id="cb9-62"><a href="data-processing.html#cb9-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_tv =</span> B4r5,</span>
<span id="cb9-63"><a href="data-processing.html#cb9-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_books =</span> B4r6,</span>
<span id="cb9-64"><a href="data-processing.html#cb9-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_magazines =</span> B4r7,</span>
<span id="cb9-65"><a href="data-processing.html#cb9-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_audiobooks =</span> B4r8,</span>
<span id="cb9-66"><a href="data-processing.html#cb9-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">bought_none =</span> B4r9,</span>
<span id="cb9-67"><a href="data-processing.html#cb9-67" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-68"><a href="data-processing.html#cb9-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb9-69"><a href="data-processing.html#cb9-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_identity_ =</span> C1x1r1<span class="sc">:</span>C1x1r7,</span>
<span id="cb9-70"><a href="data-processing.html#cb9-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_hours =</span> C1x1aiHoursc1,</span>
<span id="cb9-71"><a href="data-processing.html#cb9-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_minutes =</span> C1x1aiMinutesc2,</span>
<span id="cb9-72"><a href="data-processing.html#cb9-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_estimate =</span> C1x1aii,</span>
<span id="cb9-73"><a href="data-processing.html#cb9-73" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-74"><a href="data-processing.html#cb9-74" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb9-75"><a href="data-processing.html#cb9-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_identity_ =</span> C2x1r1<span class="sc">:</span>C2x1r7,</span>
<span id="cb9-76"><a href="data-processing.html#cb9-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_hours =</span> C2x1aiHoursc1,</span>
<span id="cb9-77"><a href="data-processing.html#cb9-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_minutes =</span> C2x1aiMinutesc2,</span>
<span id="cb9-78"><a href="data-processing.html#cb9-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_estimate =</span> C2x1aii,</span>
<span id="cb9-79"><a href="data-processing.html#cb9-79" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-80"><a href="data-processing.html#cb9-80" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb9-81"><a href="data-processing.html#cb9-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_identity_ =</span> C3x1r1<span class="sc">:</span>C3x1r7,</span>
<span id="cb9-82"><a href="data-processing.html#cb9-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_hours =</span> C3x1aiHoursc1,</span>
<span id="cb9-83"><a href="data-processing.html#cb9-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_minutes =</span> C3x1aiMinutesc2,</span>
<span id="cb9-84"><a href="data-processing.html#cb9-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_estimate =</span> C3x1aii,</span>
<span id="cb9-85"><a href="data-processing.html#cb9-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-86"><a href="data-processing.html#cb9-86" aria-hidden="true" tabindex="-1"></a>    <span class="co"># video games</span></span>
<span id="cb9-87"><a href="data-processing.html#cb9-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_identity_ =</span> C5x1r1<span class="sc">:</span>C5x1r7,</span>
<span id="cb9-88"><a href="data-processing.html#cb9-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_hours =</span> C5x1aiHoursc1,</span>
<span id="cb9-89"><a href="data-processing.html#cb9-89" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_minutes =</span> C5x1aiMinutesc2,</span>
<span id="cb9-90"><a href="data-processing.html#cb9-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_estimate =</span> C5x1aii,</span>
<span id="cb9-91"><a href="data-processing.html#cb9-91" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-92"><a href="data-processing.html#cb9-92" aria-hidden="true" tabindex="-1"></a>    <span class="co"># e-publishing</span></span>
<span id="cb9-93"><a href="data-processing.html#cb9-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">e_publishing_identity_ =</span> C7x1r1<span class="sc">:</span>C7x1r7,</span>
<span id="cb9-94"><a href="data-processing.html#cb9-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-95"><a href="data-processing.html#cb9-95" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (e-)books</span></span>
<span id="cb9-96"><a href="data-processing.html#cb9-96" aria-hidden="true" tabindex="-1"></a>    <span class="at">books_hours =</span> C7ax1aiHoursc1,</span>
<span id="cb9-97"><a href="data-processing.html#cb9-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">books_minutes =</span> C7ax1aiMinutesc2,</span>
<span id="cb9-98"><a href="data-processing.html#cb9-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">books_estimate =</span> C7ax1aii,</span>
<span id="cb9-99"><a href="data-processing.html#cb9-99" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-100"><a href="data-processing.html#cb9-100" aria-hidden="true" tabindex="-1"></a>    <span class="co"># magazines</span></span>
<span id="cb9-101"><a href="data-processing.html#cb9-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">magazines_hours =</span> C7bx1aiHoursc1,</span>
<span id="cb9-102"><a href="data-processing.html#cb9-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">magazines_minutes =</span> C7bx1aiMinutesc2,</span>
<span id="cb9-103"><a href="data-processing.html#cb9-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">magazines_estimate =</span> C7bx1aii,</span>
<span id="cb9-104"><a href="data-processing.html#cb9-104" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-105"><a href="data-processing.html#cb9-105" aria-hidden="true" tabindex="-1"></a>    <span class="co"># audiobooks</span></span>
<span id="cb9-106"><a href="data-processing.html#cb9-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">audiobooks_hours =</span> C7cx1aiHoursc1,</span>
<span id="cb9-107"><a href="data-processing.html#cb9-107" aria-hidden="true" tabindex="-1"></a>    <span class="at">audiobooks_minutes =</span> C7cx1aiMinutesc2,</span>
<span id="cb9-108"><a href="data-processing.html#cb9-108" aria-hidden="true" tabindex="-1"></a>    <span class="at">audiobooks_estimate =</span> C7cx1aii,</span>
<span id="cb9-109"><a href="data-processing.html#cb9-109" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-110"><a href="data-processing.html#cb9-110" aria-hidden="true" tabindex="-1"></a>    <span class="co"># well-being</span></span>
<span id="cb9-111"><a href="data-processing.html#cb9-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">life_satisfaction_ =</span> QD2r1<span class="sc">:</span>QD2r2,</span>
<span id="cb9-112"><a href="data-processing.html#cb9-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">well_being_ =</span> QD2r3<span class="sc">:</span>QD2r4</span>
<span id="cb9-113"><a href="data-processing.html#cb9-113" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Alright, now to transforming all variables to the correct type and assigning informative factor level labels.
Note that <code>id</code> now is numeric which can be misleading, which is why I add <code>pp_</code> (for participant) before the ID number.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-processing.html#cb10-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb10-2"><a href="data-processing.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="data-processing.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-4"><a href="data-processing.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># turn non-numeric variables into factors</span></span>
<span id="cb10-5"><a href="data-processing.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-6"><a href="data-processing.html#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb10-7"><a href="data-processing.html#cb10-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb10-8"><a href="data-processing.html#cb10-8" aria-hidden="true" tabindex="-1"></a>        id,</span>
<span id="cb10-9"><a href="data-processing.html#cb10-9" aria-hidden="true" tabindex="-1"></a>        gender</span>
<span id="cb10-10"><a href="data-processing.html#cb10-10" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb10-11"><a href="data-processing.html#cb10-11" aria-hidden="true" tabindex="-1"></a>      as.factor</span>
<span id="cb10-12"><a href="data-processing.html#cb10-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-13"><a href="data-processing.html#cb10-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-14"><a href="data-processing.html#cb10-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-15"><a href="data-processing.html#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># purely cosmetic: arrange by id</span></span>
<span id="cb10-16"><a href="data-processing.html#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb10-17"><a href="data-processing.html#cb10-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-18"><a href="data-processing.html#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># give proper labels to demographics</span></span>
<span id="cb10-19"><a href="data-processing.html#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-20"><a href="data-processing.html#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb10-21"><a href="data-processing.html#cb10-21" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb10-22"><a href="data-processing.html#cb10-22" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Male&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb10-23"><a href="data-processing.html#cb10-23" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Female&quot;</span> <span class="ot">=</span> <span class="st">&quot;2&quot;</span>,</span>
<span id="cb10-24"><a href="data-processing.html#cb10-24" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Other&quot;</span> <span class="ot">=</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb10-25"><a href="data-processing.html#cb10-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-26"><a href="data-processing.html#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add &quot;pp_&quot; prefix to id variable</span></span>
<span id="cb10-27"><a href="data-processing.html#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">as.factor</span>(</span>
<span id="cb10-28"><a href="data-processing.html#cb10-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">paste0</span>(<span class="st">&quot;pp_&quot;</span>, id)</span>
<span id="cb10-29"><a href="data-processing.html#cb10-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-30"><a href="data-processing.html#cb10-30" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>For the first wave, participants only responded to questions about how much they used a medium if they indicated that they had used it in the three months before wave 1.
Those variables (e.g. <code>bought_books</code>) are only present in wave 1, but <code>NA</code> in the other waves.
Therefore, we create new variables that show whether a person was asked to indicate their use of a medium, so if they answered yes to any of the filter variables at the beginning of the wave 1 survey.
At this point, those filter variables are still numeric, so we’ll add them up.
If they’re above 0, participants were asked about that medium.
If they’re 0, participants hadn’t used any of the media in the three months before wave 1 and weren’t asked questions about them.
Note that I keep those filter variables as numeric for processing later.
After we’re done with the filter variables, we can also delete the individual ones.</p>
<p>Note that I first check whether any of those filter variables have missing values, but it seems the survey had forced responses here, so we don’t have missings.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-processing.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check whether any of the filter variables (at wave 1, when they were asked) have missing values</span></span>
<span id="cb11-2"><a href="data-processing.html#cb11-2" aria-hidden="true" tabindex="-1"></a>working_file <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="data-processing.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wave <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="data-processing.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-5"><a href="data-processing.html#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb11-6"><a href="data-processing.html#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb11-7"><a href="data-processing.html#cb11-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">starts_with</span>(<span class="st">&quot;downloaded&quot;</span>),</span>
<span id="cb11-8"><a href="data-processing.html#cb11-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">starts_with</span>(<span class="st">&quot;streamed&quot;</span>),</span>
<span id="cb11-9"><a href="data-processing.html#cb11-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">starts_with</span>(<span class="st">&quot;shared&quot;</span>),</span>
<span id="cb11-10"><a href="data-processing.html#cb11-10" aria-hidden="true" tabindex="-1"></a>       <span class="fu">starts_with</span>(<span class="st">&quot;bought&quot;</span>)</span>
<span id="cb11-11"><a href="data-processing.html#cb11-11" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb11-12"><a href="data-processing.html#cb11-12" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">unique</span>(<span class="fu">is.na</span>(.x))</span>
<span id="cb11-13"><a href="data-processing.html#cb11-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-14"><a href="data-processing.html#cb11-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="data-processing.html#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb11-16"><a href="data-processing.html#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>(),</span>
<span id="cb11-17"><a href="data-processing.html#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;missing&quot;</span></span>
<span id="cb11-18"><a href="data-processing.html#cb11-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb11-19"><a href="data-processing.html#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb11-20"><a href="data-processing.html#cb11-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Number of missings: &quot;</span> <span class="ot">=</span> <span class="fu">sum</span>(missing)</span>
<span id="cb11-21"><a href="data-processing.html#cb11-21" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `Number of missings: `
##                    &lt;int&gt;
## 1                      0</code></pre>
<p>While we’re at it: All constant wave 1 variables now have <code>NA</code> in the subsequent wave.
I’ll set those <code>NA</code>s to the wave 1 value because those are stable demographics that apply to each wave.
Note that three demographic questions were asked at each wave, employment status, living siutation, and the consequences of COVID-19.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-processing.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get filter variables (only present at wave 1)</span></span>
<span id="cb13-2"><a href="data-processing.html#cb13-2" aria-hidden="true" tabindex="-1"></a>filters <span class="ot">&lt;-</span> </span>
<span id="cb13-3"><a href="data-processing.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="data-processing.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wave <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="data-processing.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-6"><a href="data-processing.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the filter per category</span></span>
<span id="cb13-7"><a href="data-processing.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-8"><a href="data-processing.html#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_music =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-9"><a href="data-processing.html#cb13-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-10"><a href="data-processing.html#cb13-10" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-11"><a href="data-processing.html#cb13-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">starts_with</span>(<span class="st">&quot;downloaded_music&quot;</span>),</span>
<span id="cb13-12"><a href="data-processing.html#cb13-12" aria-hidden="true" tabindex="-1"></a>        <span class="fu">starts_with</span>(<span class="st">&quot;streamed_music&quot;</span>),</span>
<span id="cb13-13"><a href="data-processing.html#cb13-13" aria-hidden="true" tabindex="-1"></a>        <span class="fu">starts_with</span>(<span class="st">&quot;shared_music&quot;</span>),</span>
<span id="cb13-14"><a href="data-processing.html#cb13-14" aria-hidden="true" tabindex="-1"></a>        bought_music</span>
<span id="cb13-15"><a href="data-processing.html#cb13-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-16"><a href="data-processing.html#cb13-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-17"><a href="data-processing.html#cb13-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-18"><a href="data-processing.html#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_films =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-19"><a href="data-processing.html#cb13-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-20"><a href="data-processing.html#cb13-20" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-21"><a href="data-processing.html#cb13-21" aria-hidden="true" tabindex="-1"></a>        downloaded_films,</span>
<span id="cb13-22"><a href="data-processing.html#cb13-22" aria-hidden="true" tabindex="-1"></a>        streamed_films,</span>
<span id="cb13-23"><a href="data-processing.html#cb13-23" aria-hidden="true" tabindex="-1"></a>        shared_films,</span>
<span id="cb13-24"><a href="data-processing.html#cb13-24" aria-hidden="true" tabindex="-1"></a>        bought_films</span>
<span id="cb13-25"><a href="data-processing.html#cb13-25" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-26"><a href="data-processing.html#cb13-26" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-27"><a href="data-processing.html#cb13-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-28"><a href="data-processing.html#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_tv =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-29"><a href="data-processing.html#cb13-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-30"><a href="data-processing.html#cb13-30" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-31"><a href="data-processing.html#cb13-31" aria-hidden="true" tabindex="-1"></a>        downloaded_tv,</span>
<span id="cb13-32"><a href="data-processing.html#cb13-32" aria-hidden="true" tabindex="-1"></a>        streamed_tv,</span>
<span id="cb13-33"><a href="data-processing.html#cb13-33" aria-hidden="true" tabindex="-1"></a>        shared_tv,</span>
<span id="cb13-34"><a href="data-processing.html#cb13-34" aria-hidden="true" tabindex="-1"></a>        bought_tv</span>
<span id="cb13-35"><a href="data-processing.html#cb13-35" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-36"><a href="data-processing.html#cb13-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-37"><a href="data-processing.html#cb13-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-38"><a href="data-processing.html#cb13-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_video_games =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-39"><a href="data-processing.html#cb13-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-40"><a href="data-processing.html#cb13-40" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-41"><a href="data-processing.html#cb13-41" aria-hidden="true" tabindex="-1"></a>        downloaded_video_games,</span>
<span id="cb13-42"><a href="data-processing.html#cb13-42" aria-hidden="true" tabindex="-1"></a>        streamed_video_games,</span>
<span id="cb13-43"><a href="data-processing.html#cb13-43" aria-hidden="true" tabindex="-1"></a>        shared_video_games,</span>
<span id="cb13-44"><a href="data-processing.html#cb13-44" aria-hidden="true" tabindex="-1"></a>        bought_video_games</span>
<span id="cb13-45"><a href="data-processing.html#cb13-45" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-46"><a href="data-processing.html#cb13-46" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-47"><a href="data-processing.html#cb13-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-48"><a href="data-processing.html#cb13-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_ebooks =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-49"><a href="data-processing.html#cb13-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-50"><a href="data-processing.html#cb13-50" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-51"><a href="data-processing.html#cb13-51" aria-hidden="true" tabindex="-1"></a>        downloaded_ebooks,</span>
<span id="cb13-52"><a href="data-processing.html#cb13-52" aria-hidden="true" tabindex="-1"></a>        streamed_ebooks,</span>
<span id="cb13-53"><a href="data-processing.html#cb13-53" aria-hidden="true" tabindex="-1"></a>        shared_ebooks,</span>
<span id="cb13-54"><a href="data-processing.html#cb13-54" aria-hidden="true" tabindex="-1"></a>        bought_books</span>
<span id="cb13-55"><a href="data-processing.html#cb13-55" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-56"><a href="data-processing.html#cb13-56" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-57"><a href="data-processing.html#cb13-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-58"><a href="data-processing.html#cb13-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_magazines =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-59"><a href="data-processing.html#cb13-59" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-60"><a href="data-processing.html#cb13-60" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-61"><a href="data-processing.html#cb13-61" aria-hidden="true" tabindex="-1"></a>        downloaded_magazines,</span>
<span id="cb13-62"><a href="data-processing.html#cb13-62" aria-hidden="true" tabindex="-1"></a>        streamed_magazines,</span>
<span id="cb13-63"><a href="data-processing.html#cb13-63" aria-hidden="true" tabindex="-1"></a>        shared_magazines,</span>
<span id="cb13-64"><a href="data-processing.html#cb13-64" aria-hidden="true" tabindex="-1"></a>        bought_magazines</span>
<span id="cb13-65"><a href="data-processing.html#cb13-65" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-66"><a href="data-processing.html#cb13-66" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb13-67"><a href="data-processing.html#cb13-67" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-68"><a href="data-processing.html#cb13-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">filter_audiobooks =</span> <span class="fu">rowSums</span>(</span>
<span id="cb13-69"><a href="data-processing.html#cb13-69" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-70"><a href="data-processing.html#cb13-70" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb13-71"><a href="data-processing.html#cb13-71" aria-hidden="true" tabindex="-1"></a>        downloaded_audiobooks,</span>
<span id="cb13-72"><a href="data-processing.html#cb13-72" aria-hidden="true" tabindex="-1"></a>        streamed_audiobooks,</span>
<span id="cb13-73"><a href="data-processing.html#cb13-73" aria-hidden="true" tabindex="-1"></a>        shared_audiobooks,</span>
<span id="cb13-74"><a href="data-processing.html#cb13-74" aria-hidden="true" tabindex="-1"></a>        bought_audiobooks</span>
<span id="cb13-75"><a href="data-processing.html#cb13-75" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb13-76"><a href="data-processing.html#cb13-76" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-77"><a href="data-processing.html#cb13-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-78"><a href="data-processing.html#cb13-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-79"><a href="data-processing.html#cb13-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># recode depending on whether the sum is zero or not</span></span>
<span id="cb13-80"><a href="data-processing.html#cb13-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-81"><a href="data-processing.html#cb13-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb13-82"><a href="data-processing.html#cb13-82" aria-hidden="true" tabindex="-1"></a>      <span class="fu">starts_with</span>(<span class="st">&quot;filter&quot;</span>),</span>
<span id="cb13-83"><a href="data-processing.html#cb13-83" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(.x <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb13-84"><a href="data-processing.html#cb13-84" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-85"><a href="data-processing.html#cb13-85" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-86"><a href="data-processing.html#cb13-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-87"><a href="data-processing.html#cb13-87" aria-hidden="true" tabindex="-1"></a>  <span class="co"># select variables that are constant across all waves</span></span>
<span id="cb13-88"><a href="data-processing.html#cb13-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-89"><a href="data-processing.html#cb13-89" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb13-90"><a href="data-processing.html#cb13-90" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb13-91"><a href="data-processing.html#cb13-91" aria-hidden="true" tabindex="-1"></a>    <span class="fu">contains</span>(<span class="st">&quot;identity&quot;</span>),</span>
<span id="cb13-92"><a href="data-processing.html#cb13-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;filter&quot;</span>)</span>
<span id="cb13-93"><a href="data-processing.html#cb13-93" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-94"><a href="data-processing.html#cb13-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-95"><a href="data-processing.html#cb13-95" aria-hidden="true" tabindex="-1"></a><span class="co"># add those filters and constant variables so that they become a constant for each pp, deleting old filter variables</span></span>
<span id="cb13-96"><a href="data-processing.html#cb13-96" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb13-97"><a href="data-processing.html#cb13-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb13-98"><a href="data-processing.html#cb13-98" aria-hidden="true" tabindex="-1"></a>    working_file <span class="sc">%&gt;%</span> </span>
<span id="cb13-99"><a href="data-processing.html#cb13-99" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb13-100"><a href="data-processing.html#cb13-100" aria-hidden="true" tabindex="-1"></a>        <span class="sc">-</span>(gender),</span>
<span id="cb13-101"><a href="data-processing.html#cb13-101" aria-hidden="true" tabindex="-1"></a>        <span class="sc">-</span><span class="fu">contains</span>(<span class="st">&quot;identity&quot;</span>)</span>
<span id="cb13-102"><a href="data-processing.html#cb13-102" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb13-103"><a href="data-processing.html#cb13-103" aria-hidden="true" tabindex="-1"></a>    filters,</span>
<span id="cb13-104"><a href="data-processing.html#cb13-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;id&quot;</span></span>
<span id="cb13-105"><a href="data-processing.html#cb13-105" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-106"><a href="data-processing.html#cb13-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-107"><a href="data-processing.html#cb13-107" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">&quot;downloaded&quot;</span>),</span>
<span id="cb13-108"><a href="data-processing.html#cb13-108" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">&quot;streamed&quot;</span>),</span>
<span id="cb13-109"><a href="data-processing.html#cb13-109" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">&quot;shared&quot;</span>),</span>
<span id="cb13-110"><a href="data-processing.html#cb13-110" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">&quot;bought&quot;</span>),</span>
<span id="cb13-111"><a href="data-processing.html#cb13-111" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-112"><a href="data-processing.html#cb13-112" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-113"><a href="data-processing.html#cb13-113" aria-hidden="true" tabindex="-1"></a>  <span class="co"># some reordering for purely cosmetic purposes</span></span>
<span id="cb13-114"><a href="data-processing.html#cb13-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-115"><a href="data-processing.html#cb13-115" aria-hidden="true" tabindex="-1"></a>    id<span class="sc">:</span>age,</span>
<span id="cb13-116"><a href="data-processing.html#cb13-116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;filter&quot;</span>),</span>
<span id="cb13-117"><a href="data-processing.html#cb13-117" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>()</span>
<span id="cb13-118"><a href="data-processing.html#cb13-118" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-119"><a href="data-processing.html#cb13-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-120"><a href="data-processing.html#cb13-120" aria-hidden="true" tabindex="-1"></a><span class="co"># remove the temp filters file</span></span>
<span id="cb13-121"><a href="data-processing.html#cb13-121" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(filters)</span></code></pre></div>
</div>
<div id="response-rates-and-missing-values" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Response rates and missing values</h2>
<p>In this section, I check response rates, response patterns, and missing values.
The data set is quite complicated because of the many filter variables.
The survey had forced responses, so there aren’t any missings if someone finished the survey.
However, because of the many filters, there’ll still be a large amount of missing values that we need to inspect or recode.</p>
<p>I think the following information is most relevant to understand response and missingness patterns:</p>
<ol style="list-style-type: decimal">
<li>How many participants have completed each wave.</li>
<li>How many responses we have per medium per wave.</li>
</ol>
<div id="participants-per-wave" class="section level3" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Participants per wave</h3>
First, let’s see how many people completed each wave, what percentage of people have completed that exact number of wave, how many participants that have exactly this number of waves, and what percentage of participants have completed <em>at least</em> this wave (Table <a href="data-processing.html#tab:check-wave-completes">2.2</a>).
<table class="table" style="font-size: 15px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:check-wave-completes">Table 2.2: </span>Response rates
</caption>
<thead>
<tr>
<th style="text-align:right;">
Waves
</th>
<th style="text-align:right;">
Participants (only that number of waves)
</th>
<th style="text-align:right;">
Frequency
</th>
<th style="text-align:right;">
Participants per wave
</th>
<th style="text-align:right;">
Frequency per wave
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1071
</td>
<td style="text-align:right;">
27.7
</td>
<td style="text-align:right;">
3863
</td>
<td style="text-align:right;">
100.0
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
423
</td>
<td style="text-align:right;">
11.0
</td>
<td style="text-align:right;">
2792
</td>
<td style="text-align:right;">
72.3
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
237
</td>
<td style="text-align:right;">
6.1
</td>
<td style="text-align:right;">
2369
</td>
<td style="text-align:right;">
61.3
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
185
</td>
<td style="text-align:right;">
4.8
</td>
<td style="text-align:right;">
2132
</td>
<td style="text-align:right;">
55.2
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
873
</td>
<td style="text-align:right;">
22.6
</td>
<td style="text-align:right;">
1947
</td>
<td style="text-align:right;">
50.4
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1074
</td>
<td style="text-align:right;">
27.8
</td>
<td style="text-align:right;">
1074
</td>
<td style="text-align:right;">
27.8
</td>
</tr>
</tbody>
</table>
</div>
<div id="responses-per-wave-and-medium" class="section level3" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Responses per wave and medium</h3>
<p>Okay, next we inspect how many responses we have per medium per wave.
The data set gets complicated here.
This is where the filtering requires quite some wrangling: Someone who hasn’t listened to music in the three months before wave 1 will have missing values on all items about music - but only at wave 1.</p>
<p>However, at each subsequent wave, participants were asked one of the <code>estimate</code> questions.
If they said that they had used a medium less, about the same, or more compared to the previous week, they were then also prompted to provide their use estimates.</p>
<p>For example, someone might’ve had a 0 on the filter questions for audio books because they hadn’t listened to audio books the three months before wave 1.
For wave 1, then, they didn’t provide the minutes and hours they spent on audio books.
In wave 2, they were then asked how their audio book use had changed since the last survey.
If they answered anything but the sixth answer option (i.e., they still hadn’t listened to audio books), they were asked to report how many minutes and hours they had used audio books.</p>
<p>Here’s why that can be problematic: The participant below (<a href="data-processing.html#tab:example-filter-change">2.3</a>) hadn’t listened to audio books in the first three months and reports that at wave 1, then says at wave 2 that their audio book use hadn’t changed (i.e., selected <code>3</code> on the <code>audiobooks_estimate</code> question).
But the participant was still asked about their minutes and hours - which is why they filled in bogus numbers.
Minutes and hours were forced response as far as I can tell.
I wouldn’t take those estimates seriously, because the participant was forced to respond to minutes and hours.
We see that in the following waves, they selected the option that they hadn’t listened to audiobooks.</p>
Please note: We could not share the full <code>estimate</code> questions.
Before uploading the raw data, I did some preprocessing such that only the answer options 3 (nothing changed) and 6 (didn’t use a medium) remained.
All other non-missing values are set to 9.
Missing values remain as <code>NA</code>.
<table class="table" style="font-size: 15px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:example-filter-change">Table 2.3: </span>Example of a participant with no change in use
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
wave
</th>
<th style="text-align:right;">
filter_audiobooks
</th>
<th style="text-align:right;">
audiobooks_estimate
</th>
<th style="text-align:right;">
audiobooks_minutes
</th>
<th style="text-align:right;">
audiobooks_hours
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_7
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_7
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_7
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_7
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_7
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table>
<p>Before we turn to those cases where we can tell a participant didn’t want to provide a use estimate, we need to decide what to do with the filter questions in the first wave.
For our research question, we’re interested in <strong>how variations in amount of use relate to well-being</strong>, not what that relation is <strong>among users</strong>.
Therefore, if someone says that they didn’t use a medium in the three months before the first wave, they are saying that they <strong>spent zero time engaging with that medium</strong>.
The filter questions didn’t ask whether a user has a device they can use to engage with those content categories or whether they had any of the media.
So the filter question didn’t ask whether participants were <strong>able</strong> to engage with a category.
It asked <strong>whether people used a medium</strong>.
Therefore, it fits our research question to treat those values as zero.</p>
<p>Below, I’ll set all time variables at the first wave to <code>-99</code> that were skipped in the survey because participants said they didn’t use the medium in the filter questions.
I choose <code>-99</code> to be able to distingiush “natural” zeros (so zeros participants actually filled in) from our imputed zeros.
I’ll turn those <code>-99</code> to zeros later when we inspect data quality.</p>
<p>There’s probably a sleek way to write a function that pulls variable names and matches those with the conditional commands in the code, but that’s above my skill level.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-processing.html#cb14-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb14-2"><a href="data-processing.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="data-processing.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-4"><a href="data-processing.html#cb14-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-5"><a href="data-processing.html#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb14-6"><a href="data-processing.html#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-7"><a href="data-processing.html#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(music_hours, music_minutes),</span>
<span id="cb14-8"><a href="data-processing.html#cb14-8" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_music <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-9"><a href="data-processing.html#cb14-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-10"><a href="data-processing.html#cb14-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-11"><a href="data-processing.html#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb14-12"><a href="data-processing.html#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-13"><a href="data-processing.html#cb14-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(films_hours, films_minutes),</span>
<span id="cb14-14"><a href="data-processing.html#cb14-14" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_films <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-15"><a href="data-processing.html#cb14-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-16"><a href="data-processing.html#cb14-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-17"><a href="data-processing.html#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb14-18"><a href="data-processing.html#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-19"><a href="data-processing.html#cb14-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(tv_hours, tv_minutes),</span>
<span id="cb14-20"><a href="data-processing.html#cb14-20" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_tv <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-21"><a href="data-processing.html#cb14-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-22"><a href="data-processing.html#cb14-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-23"><a href="data-processing.html#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># video games</span></span>
<span id="cb14-24"><a href="data-processing.html#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-25"><a href="data-processing.html#cb14-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(games_hours, games_minutes),</span>
<span id="cb14-26"><a href="data-processing.html#cb14-26" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_video_games <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-27"><a href="data-processing.html#cb14-27" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-28"><a href="data-processing.html#cb14-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-29"><a href="data-processing.html#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ebooks</span></span>
<span id="cb14-30"><a href="data-processing.html#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-31"><a href="data-processing.html#cb14-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(books_hours, books_minutes),</span>
<span id="cb14-32"><a href="data-processing.html#cb14-32" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_ebooks <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-33"><a href="data-processing.html#cb14-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-34"><a href="data-processing.html#cb14-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-35"><a href="data-processing.html#cb14-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># magazines</span></span>
<span id="cb14-36"><a href="data-processing.html#cb14-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-37"><a href="data-processing.html#cb14-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(magazines_hours, magazines_minutes),</span>
<span id="cb14-38"><a href="data-processing.html#cb14-38" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_magazines <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-39"><a href="data-processing.html#cb14-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-40"><a href="data-processing.html#cb14-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-41"><a href="data-processing.html#cb14-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># audiobooks</span></span>
<span id="cb14-42"><a href="data-processing.html#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-43"><a href="data-processing.html#cb14-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(audiobooks_hours, audiobooks_minutes),</span>
<span id="cb14-44"><a href="data-processing.html#cb14-44" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> filter_audiobooks <span class="sc">==</span> <span class="dv">0</span>), <span class="sc">-</span><span class="dv">99</span>, .x)</span>
<span id="cb14-45"><a href="data-processing.html#cb14-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-46"><a href="data-processing.html#cb14-46" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Also, when we look at the codebook, we see that hours and minutes were coded such that 0 = 1, 2 = 1, etc.
This means someone who has 24 hours actually has 23 hours.
Someone who has 60 minutes actually has 59 minutes.
Therefore, I subtract one from each hour and minute variable to get the real estimate.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-processing.html#cb15-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb15-2"><a href="data-processing.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="data-processing.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-4"><a href="data-processing.html#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb15-5"><a href="data-processing.html#cb15-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb15-6"><a href="data-processing.html#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>),</span>
<span id="cb15-7"><a href="data-processing.html#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>)</span>
<span id="cb15-8"><a href="data-processing.html#cb15-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-9"><a href="data-processing.html#cb15-9" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(.x <span class="sc">!=</span> <span class="sc">-</span><span class="dv">99</span>, .x <span class="sc">-</span> <span class="dv">1</span>, .x) <span class="co"># we maintain the artificial zero</span></span>
<span id="cb15-10"><a href="data-processing.html#cb15-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-11"><a href="data-processing.html#cb15-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now, when participants said they didn’t use a medium for any wave, in the next wave they’re still presented the <code>estimate</code> question.
When they answered anything but that they didn’t use the medium, they were asked to provide minutes and hours estimates (see the example participant above).
In those hours and minutes survey questions, they were shown what they said in the previous wave.
Crucially, they saw their estimate from the previous wave <strong>after they had given their estimate</strong>.</p>
<p>So when I used 0 minutes in the previous week but forget what I said in the previous wave, it’s not unrealistic that I select “a lot less” on the <code>estimate</code> question.
In my mind, estimating use in relation to previous time points and giving an absolute estimate of minutes and hours are two separate psychological retrieval processes.
Therefore, I don’t have a problem with someone who used 0 minutes of audio books in a wave saying that they used audio books a lot less in the next wave and report to have used them for half an hour.
It doesn’t make sense from an objective stand point because 30 minutes is more than 0 minutes, but the estimate question is about participants’ perceived frequency in relation to the past.
For that reason, I won’t directly change the 30 minutes to 0, but leave them as is.</p>
<p>In other words, I won’t set values to <code>NA</code> by comparing the absolute minutes and hours estimate to the relative frequency estimate.
I’ll only make changes in clear cases like the one presented above, where someone clearly didn’t use a medium.
I’ll do exclusions in the next section when I look at data quality.</p>
<p>For now, let’s deal with those few cases that are as clear-cut as the one presented above.
First some house keeping.
If participants indicated on one of the <code>estimate</code> questions that they didn’t use that medium in the previous week (only applicable in waves 2 to 6), they’ll receive a 0 on their time estimates.
So we’ll first set time estimates to <code>-999</code> if participants say that they didn’t use a medium, following the same logic I outlined above.
I use <code>-999</code> instead of <code>-99</code> like above to be able to distinguish between imputed zeros in the first wave and imputed zeros in later waves.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-processing.html#cb16-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb16-2"><a href="data-processing.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="data-processing.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-4"><a href="data-processing.html#cb16-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-5"><a href="data-processing.html#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb16-6"><a href="data-processing.html#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-7"><a href="data-processing.html#cb16-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(music_hours, music_minutes),</span>
<span id="cb16-8"><a href="data-processing.html#cb16-8" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> music_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-9"><a href="data-processing.html#cb16-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-10"><a href="data-processing.html#cb16-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-11"><a href="data-processing.html#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb16-12"><a href="data-processing.html#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-13"><a href="data-processing.html#cb16-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(films_hours, films_minutes),</span>
<span id="cb16-14"><a href="data-processing.html#cb16-14" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> films_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-15"><a href="data-processing.html#cb16-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-16"><a href="data-processing.html#cb16-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-17"><a href="data-processing.html#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb16-18"><a href="data-processing.html#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-19"><a href="data-processing.html#cb16-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(tv_hours, tv_minutes),</span>
<span id="cb16-20"><a href="data-processing.html#cb16-20" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> tv_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-21"><a href="data-processing.html#cb16-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-22"><a href="data-processing.html#cb16-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-23"><a href="data-processing.html#cb16-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># video games</span></span>
<span id="cb16-24"><a href="data-processing.html#cb16-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-25"><a href="data-processing.html#cb16-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(games_hours, games_minutes),</span>
<span id="cb16-26"><a href="data-processing.html#cb16-26" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> games_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-27"><a href="data-processing.html#cb16-27" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-28"><a href="data-processing.html#cb16-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-29"><a href="data-processing.html#cb16-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ebooks</span></span>
<span id="cb16-30"><a href="data-processing.html#cb16-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-31"><a href="data-processing.html#cb16-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(books_hours, books_minutes),</span>
<span id="cb16-32"><a href="data-processing.html#cb16-32" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> books_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-33"><a href="data-processing.html#cb16-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-34"><a href="data-processing.html#cb16-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-35"><a href="data-processing.html#cb16-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># magazines</span></span>
<span id="cb16-36"><a href="data-processing.html#cb16-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-37"><a href="data-processing.html#cb16-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(magazines_hours, magazines_minutes),</span>
<span id="cb16-38"><a href="data-processing.html#cb16-38" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> magazines_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-39"><a href="data-processing.html#cb16-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb16-40"><a href="data-processing.html#cb16-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-41"><a href="data-processing.html#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># audiobooks</span></span>
<span id="cb16-42"><a href="data-processing.html#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-43"><a href="data-processing.html#cb16-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(audiobooks_hours, audiobooks_minutes),</span>
<span id="cb16-44"><a href="data-processing.html#cb16-44" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> audiobooks_estimate <span class="sc">==</span> <span class="dv">6</span>), <span class="sc">-</span><span class="dv">999</span>, .x)</span>
<span id="cb16-45"><a href="data-processing.html#cb16-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-46"><a href="data-processing.html#cb16-46" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Alright, now let’s check, per medium, who only has 6s and 3s on the <code>estimate</code> questions (aka didn’t use and no change to previous week).
Those minutes and hours we’ll set to 0 as well.
This applies only to those who didn’t use a medium in the first wave.
If you used a medium in the first wave and said that your time remained the same, you shouldn’t get a zero.</p>
Setting instances of time with a medium within a participant but across waves to 0 requires some serious data wrangling (or my coding game isn’t strong enough…).
To be able to assess who <strong>only gave 3 or 6</strong> as an estimate for a medium for waves 2 through 6, we first transform the data to long format.
In Table <a href="data-processing.html#tab:media-to-long">2.4</a>, I display how the data look like after transformation.
<table>
<caption>
<span id="tab:media-to-long">Table 2.4: </span>Data in long format
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
wave
</th>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
estimate
</th>
<th style="text-align:right;">
minutes
</th>
<th style="text-align:right;">
hours
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
16
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
-99
</td>
<td style="text-align:right;">
-99
</td>
</tr>
</tbody>
</table>
<p>Next, I need to select only those media which participants didn’t say they used at the first wave.
Below, I select those, add a marker for that id by medium combination, and then add that marker to the long data frame.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-processing.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select id by medium combinations that didn&#39;t give an estimate in the fist wave (aka the only NA entries)</span></span>
<span id="cb17-2"><a href="data-processing.html#cb17-2" aria-hidden="true" tabindex="-1"></a>markers <span class="ot">&lt;-</span> </span>
<span id="cb17-3"><a href="data-processing.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span> </span>
<span id="cb17-4"><a href="data-processing.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(estimate)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="data-processing.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, medium) <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="data-processing.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">selected =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-7"><a href="data-processing.html#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="data-processing.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># add those markers to the long data frame</span></span>
<span id="cb17-9"><a href="data-processing.html#cb17-9" aria-hidden="true" tabindex="-1"></a>media_long <span class="ot">&lt;-</span> </span>
<span id="cb17-10"><a href="data-processing.html#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb17-11"><a href="data-processing.html#cb17-11" aria-hidden="true" tabindex="-1"></a>    media_long,</span>
<span id="cb17-12"><a href="data-processing.html#cb17-12" aria-hidden="true" tabindex="-1"></a>    markers,</span>
<span id="cb17-13"><a href="data-processing.html#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;medium&quot;</span>)</span>
<span id="cb17-14"><a href="data-processing.html#cb17-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now we know on which rows to operate.
We then check whether a medium that wasn’t used in the first wave only got a 3 or a 6 on the <code>estimate</code> in waves 2 to 6 and flag the person by medium combination that indeed doesn’t have a change.
Afterwards, we transform those <code>no_change</code> indicators to the wide format.
Below shows how these data look like: If it’s <code>NA</code> the person provided an estimate at the first wave.
If it’s <code>FALSE</code> the person didn’t provide an estimate at wave 1 (so it was 0 minutes and hours), but their estimate increased or decreased over the next waves.
If it’s <code>TRUE</code> the person didn’t provide an estimate at wave 1 and they kept not using or their use didn’t change.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-processing.html#cb18-1" aria-hidden="true" tabindex="-1"></a>no_changes <span class="ot">&lt;-</span> </span>
<span id="cb18-2"><a href="data-processing.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="data-processing.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(selected <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="co"># everyone who had an NA for an estimate in the first wave</span></span>
<span id="cb18-4"><a href="data-processing.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wave <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="co"># we don&#39;t count the first wave</span></span>
<span id="cb18-5"><a href="data-processing.html#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, medium) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="data-processing.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">no_change =</span> <span class="fu">if_else</span>(estimate <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">6</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> <span class="co"># if it&#39;s 3 or 6, we assign zero </span></span>
<span id="cb18-7"><a href="data-processing.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>( <span class="co"># so that the sum is zero</span></span>
<span id="cb18-8"><a href="data-processing.html#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">no_change =</span> <span class="fu">sum</span>(no_change)</span>
<span id="cb18-9"><a href="data-processing.html#cb18-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="data-processing.html#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">no_change =</span> <span class="fu">if_else</span>(no_change <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span> <span class="co"># then anything that isn&#39;t zero has at least one 1,2, or 4 in their estimate </span></span>
<span id="cb18-11"><a href="data-processing.html#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-12"><a href="data-processing.html#cb18-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-13"><a href="data-processing.html#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># then turn to wide format</span></span>
<span id="cb18-14"><a href="data-processing.html#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb18-15"><a href="data-processing.html#cb18-15" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb18-16"><a href="data-processing.html#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">&quot;medium&quot;</span>,</span>
<span id="cb18-17"><a href="data-processing.html#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">&quot;no_change&quot;</span></span>
<span id="cb18-18"><a href="data-processing.html#cb18-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-19"><a href="data-processing.html#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb18-20"><a href="data-processing.html#cb18-20" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb18-21"><a href="data-processing.html#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="sc">-</span>id,</span>
<span id="cb18-22"><a href="data-processing.html#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> <span class="fu">paste0</span>(., <span class="st">&quot;_no_change&quot;</span>)</span>
<span id="cb18-23"><a href="data-processing.html#cb18-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
Table <a href="data-processing.html#tab:table-no-changes">2.5</a> shows how these markers look like.
<table class="table" style="font-size: 7px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:table-no-changes">Table 2.5: </span>Markers for whether someone had no change from wave 1 through wave 6 or not, per medium
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:left;">
audiobooks_no_change
</th>
<th style="text-align:left;">
games_no_change
</th>
<th style="text-align:left;">
tv_no_change
</th>
<th style="text-align:left;">
books_no_change
</th>
<th style="text-align:left;">
magazines_no_change
</th>
<th style="text-align:left;">
music_no_change
</th>
<th style="text-align:left;">
films_no_change
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_1
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_10
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_100
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1000
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1001
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1002
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1003
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1004
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1005
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1006
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>Now we can add those markers to the <code>working_file</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-processing.html#cb19-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="data-processing.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb19-3"><a href="data-processing.html#cb19-3" aria-hidden="true" tabindex="-1"></a>    working_file,</span>
<span id="cb19-4"><a href="data-processing.html#cb19-4" aria-hidden="true" tabindex="-1"></a>    no_changes,</span>
<span id="cb19-5"><a href="data-processing.html#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>)</span>
<span id="cb19-6"><a href="data-processing.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Last, we transform the minutes and hours for each medium in each wave to 0, depending on whether that medium has one of the above markers telling us that the person didn’t use the medium at wave 1 and use didn’t change in subsequent waves (i.e., “not changed” or “haven’t used” on <code>estimate</code> for all subsequent waves).
Like above, we use <code>-9999</code> as an indicator for zero, so we know that <code>-9999</code> estimates are imputed zeros based on the person not changing their use after having said they don’t use a medium in the first wave.
<code>-999</code> is just someone saying they didn’t use a medium and <code>-99</code> is not having used a medium in the first wave.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-processing.html#cb20-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="data-processing.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="data-processing.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-4"><a href="data-processing.html#cb20-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-5"><a href="data-processing.html#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb20-6"><a href="data-processing.html#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-7"><a href="data-processing.html#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(music_hours, music_minutes),</span>
<span id="cb20-8"><a href="data-processing.html#cb20-8" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> music_no_change <span class="sc">==</span> <span class="cn">TRUE</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x) <span class="co"># need to set missing explicitly because the no_change variables contain NA if someone didn&#39;t have a missing in the first wave</span></span>
<span id="cb20-9"><a href="data-processing.html#cb20-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-10"><a href="data-processing.html#cb20-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-11"><a href="data-processing.html#cb20-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb20-12"><a href="data-processing.html#cb20-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-13"><a href="data-processing.html#cb20-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(films_hours, films_minutes),</span>
<span id="cb20-14"><a href="data-processing.html#cb20-14" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> films_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x) <span class="co"># don&#39;t override the -99</span></span>
<span id="cb20-15"><a href="data-processing.html#cb20-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-16"><a href="data-processing.html#cb20-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-17"><a href="data-processing.html#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb20-18"><a href="data-processing.html#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-19"><a href="data-processing.html#cb20-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(tv_hours, tv_minutes),</span>
<span id="cb20-20"><a href="data-processing.html#cb20-20" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> tv_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x)</span>
<span id="cb20-21"><a href="data-processing.html#cb20-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-22"><a href="data-processing.html#cb20-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-23"><a href="data-processing.html#cb20-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># video games</span></span>
<span id="cb20-24"><a href="data-processing.html#cb20-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-25"><a href="data-processing.html#cb20-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(games_hours, games_minutes),</span>
<span id="cb20-26"><a href="data-processing.html#cb20-26" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> games_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x)</span>
<span id="cb20-27"><a href="data-processing.html#cb20-27" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-28"><a href="data-processing.html#cb20-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-29"><a href="data-processing.html#cb20-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ebooks</span></span>
<span id="cb20-30"><a href="data-processing.html#cb20-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-31"><a href="data-processing.html#cb20-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(books_hours, books_minutes),</span>
<span id="cb20-32"><a href="data-processing.html#cb20-32" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> books_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x)</span>
<span id="cb20-33"><a href="data-processing.html#cb20-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-34"><a href="data-processing.html#cb20-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-35"><a href="data-processing.html#cb20-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># magazines</span></span>
<span id="cb20-36"><a href="data-processing.html#cb20-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-37"><a href="data-processing.html#cb20-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(magazines_hours, magazines_minutes),</span>
<span id="cb20-38"><a href="data-processing.html#cb20-38" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> magazines_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x)</span>
<span id="cb20-39"><a href="data-processing.html#cb20-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb20-40"><a href="data-processing.html#cb20-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-41"><a href="data-processing.html#cb20-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># audiobooks</span></span>
<span id="cb20-42"><a href="data-processing.html#cb20-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb20-43"><a href="data-processing.html#cb20-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(audiobooks_hours, audiobooks_minutes),</span>
<span id="cb20-44"><a href="data-processing.html#cb20-44" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>((wave <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> audiobooks_no_change <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> .x <span class="sc">!=</span> <span class="sc">-</span> <span class="dv">999</span>), <span class="sc">-</span><span class="dv">9999</span>, .x, <span class="at">missing =</span> .x)</span>
<span id="cb20-45"><a href="data-processing.html#cb20-45" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-46"><a href="data-processing.html#cb20-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb20-47"><a href="data-processing.html#cb20-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-48"><a href="data-processing.html#cb20-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># no need anymore for the variables we added</span></span>
<span id="cb20-49"><a href="data-processing.html#cb20-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb20-50"><a href="data-processing.html#cb20-50" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">&quot;no_change&quot;</span>)</span>
<span id="cb20-51"><a href="data-processing.html#cb20-51" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Let’s do a sanity check: all <code>minutes</code> and <code>hours</code> items should now have entries because they were forced response (or because we set them to zero).
That’s indeed the case, so all looking good.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-processing.html#cb21-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="data-processing.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb21-3"><a href="data-processing.html#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb21-4"><a href="data-processing.html#cb21-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>), </span>
<span id="cb21-5"><a href="data-processing.html#cb21-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>)),</span>
<span id="cb21-6"><a href="data-processing.html#cb21-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(.x))</span>
<span id="cb21-7"><a href="data-processing.html#cb21-7" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb21-8"><a href="data-processing.html#cb21-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="data-processing.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>()</span></code></pre></div>
<pre><code>## # A tibble: 14 x 2
##    key                value
##    &lt;chr&gt;              &lt;int&gt;
##  1 music_minutes          0
##  2 films_minutes          0
##  3 tv_minutes             0
##  4 games_minutes          0
##  5 books_minutes          0
##  6 magazines_minutes      0
##  7 audiobooks_minutes     0
##  8 music_hours            0
##  9 films_hours            0
## 10 tv_hours               0
## 11 games_hours            0
## 12 books_hours            0
## 13 magazines_hours        0
## 14 audiobooks_hours       0</code></pre>
<p>In contrast, the estimates will still contain <code>NA</code>s if people didn’t use a medium in the first wave because the survey had them skip those items.</p>
<p>After all this wrangling we’re finally able to look at how many responses we have per medium per wave.
Actually, the answer is straightforward now: everyone who finished a wave either provided minutes and hours estimates for all media, or they didn’t which means we set them to 0.
In other words, <strong>the complete responses per wave are also the complete responses per medium</strong>.</p>
</div>
</div>
<div id="data-quality-and-exclusions" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Data quality and exclusions</h2>
<p>In this section, we inspect implausible values, strange response patterns, and potential outliers.</p>
<div id="implausible-values" class="section level3" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Implausible values</h3>
<p>Okay, first let’s check that the maximum hour reported is indeed 23 and the maximum minutes 59.
Table <a href="data-processing.html#tab:max-hours-minutes">2.6</a> shows that that’s the case.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-processing.html#cb23-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="data-processing.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb23-3"><a href="data-processing.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">across</span>(</span>
<span id="cb23-4"><a href="data-processing.html#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>), <span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>)),</span>
<span id="cb23-5"><a href="data-processing.html#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> <span class="fu">max</span>(.x, <span class="at">na.rm =</span> T)</span>
<span id="cb23-6"><a href="data-processing.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-7"><a href="data-processing.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb23-8"><a href="data-processing.html#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-9"><a href="data-processing.html#cb23-9" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb23-10"><a href="data-processing.html#cb23-10" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb23-11"><a href="data-processing.html#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Maximum values of hours and minutes, per medium&quot;</span></span>
<span id="cb23-12"><a href="data-processing.html#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<table>
<caption>
<span id="tab:max-hours-minutes">Table 2.6: </span>Maximum values of hours and minutes, per medium
</caption>
<thead>
<tr>
<th style="text-align:left;">
key
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
music_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
films_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
tv_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
games_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
books_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
audiobooks_hours
</td>
<td style="text-align:right;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
music_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
films_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
tv_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
games_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
books_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
<tr>
<td style="text-align:left;">
audiobooks_minutes
</td>
<td style="text-align:right;">
59
</td>
</tr>
</tbody>
</table>
<p>Alright, next we did a lot of work on <code>working_file</code>, and <code>media_long</code> isn’t up to date anymore, which is why I turn the working file into the long format once more because it’s easier for some plotting.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-processing.html#cb24-1" aria-hidden="true" tabindex="-1"></a>media_long <span class="ot">&lt;-</span> </span>
<span id="cb24-2"><a href="data-processing.html#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="data-processing.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># first turn long by filter variables</span></span>
<span id="cb24-4"><a href="data-processing.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb24-5"><a href="data-processing.html#cb24-5" aria-hidden="true" tabindex="-1"></a>    working_file <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="data-processing.html#cb24-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb24-7"><a href="data-processing.html#cb24-7" aria-hidden="true" tabindex="-1"></a>        id,</span>
<span id="cb24-8"><a href="data-processing.html#cb24-8" aria-hidden="true" tabindex="-1"></a>        wave,</span>
<span id="cb24-9"><a href="data-processing.html#cb24-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;estimate&quot;</span>),</span>
<span id="cb24-10"><a href="data-processing.html#cb24-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>),</span>
<span id="cb24-11"><a href="data-processing.html#cb24-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>)</span>
<span id="cb24-12"><a href="data-processing.html#cb24-12" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb24-13"><a href="data-processing.html#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="sc">-</span>id, <span class="sc">-</span>wave),</span>
<span id="cb24-14"><a href="data-processing.html#cb24-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">&quot;medium&quot;</span>, <span class="st">&quot;time&quot;</span>),</span>
<span id="cb24-15"><a href="data-processing.html#cb24-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>,</span>
<span id="cb24-16"><a href="data-processing.html#cb24-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb24-17"><a href="data-processing.html#cb24-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb24-18"><a href="data-processing.html#cb24-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-19"><a href="data-processing.html#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># now the medium and time are mixed up in the same column, so we spread them </span></span>
<span id="cb24-20"><a href="data-processing.html#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb24-21"><a href="data-processing.html#cb24-21" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb24-22"><a href="data-processing.html#cb24-22" aria-hidden="true" tabindex="-1"></a>    id<span class="sc">:</span>medium,</span>
<span id="cb24-23"><a href="data-processing.html#cb24-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb24-24"><a href="data-processing.html#cb24-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">&quot;value&quot;</span></span>
<span id="cb24-25"><a href="data-processing.html#cb24-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
Now let’s see what proportion of minutes and hours we imputed (aka placeholders for zeros).
We turned values into <code>-99</code> if they were in the first wave on a medium a user hadn’t used; to <code>-999</code> if a user said they hadn’t used a medium in the waves after that; and <code>-9999</code> if a user hadn’t used a medium in the first wave and reported no changes in all following waves.
In Table <a href="data-processing.html#tab:table-imputed-zeros-minutes">2.7</a>, we see we had to impute the most zeros for audiobooks.
<table>
<caption>
<span id="tab:table-imputed-zeros-minutes">Table 2.7: </span>Proportion of imputed and natural zero minutes
</caption>
<thead>
<tr>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
Zeros for no change
</th>
<th style="text-align:right;">
Zeros for no use
</th>
<th style="text-align:right;">
Zeros for first wave
</th>
<th style="text-align:right;">
Natural zeros
</th>
<th style="text-align:right;">
Nonzero
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Proportion no change
</th>
<th style="text-align:right;">
Proportion no use
</th>
<th style="text-align:right;">
Proportion first wave
</th>
<th style="text-align:right;">
Porportion natural
</th>
<th style="text-align:right;">
Proportion Nonzero
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
1148
</td>
<td style="text-align:right;">
7733
</td>
<td style="text-align:right;">
3273
</td>
<td style="text-align:right;">
1055
</td>
<td style="text-align:right;">
968
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.10
</td>
<td style="text-align:right;">
54.55
</td>
<td style="text-align:right;">
23.09
</td>
<td style="text-align:right;">
7.44
</td>
<td style="text-align:right;">
6.83
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
1214
</td>
<td style="text-align:right;">
3445
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
4377
</td>
<td style="text-align:right;">
3118
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.56
</td>
<td style="text-align:right;">
24.30
</td>
<td style="text-align:right;">
14.27
</td>
<td style="text-align:right;">
30.87
</td>
<td style="text-align:right;">
21.99
</td>
</tr>
<tr>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
1187
</td>
<td style="text-align:right;">
932
</td>
<td style="text-align:right;">
1291
</td>
<td style="text-align:right;">
6633
</td>
<td style="text-align:right;">
4134
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.37
</td>
<td style="text-align:right;">
6.57
</td>
<td style="text-align:right;">
9.11
</td>
<td style="text-align:right;">
46.79
</td>
<td style="text-align:right;">
29.16
</td>
</tr>
<tr>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
1605
</td>
<td style="text-align:right;">
4203
</td>
<td style="text-align:right;">
2504
</td>
<td style="text-align:right;">
3716
</td>
<td style="text-align:right;">
2149
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.32
</td>
<td style="text-align:right;">
29.65
</td>
<td style="text-align:right;">
17.66
</td>
<td style="text-align:right;">
26.21
</td>
<td style="text-align:right;">
15.16
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
1564
</td>
<td style="text-align:right;">
5983
</td>
<td style="text-align:right;">
2940
</td>
<td style="text-align:right;">
1518
</td>
<td style="text-align:right;">
2172
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.03
</td>
<td style="text-align:right;">
42.20
</td>
<td style="text-align:right;">
20.74
</td>
<td style="text-align:right;">
10.71
</td>
<td style="text-align:right;">
15.32
</td>
</tr>
<tr>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
1584
</td>
<td style="text-align:right;">
431
</td>
<td style="text-align:right;">
1197
</td>
<td style="text-align:right;">
6227
</td>
<td style="text-align:right;">
4738
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.17
</td>
<td style="text-align:right;">
3.04
</td>
<td style="text-align:right;">
8.44
</td>
<td style="text-align:right;">
43.92
</td>
<td style="text-align:right;">
33.42
</td>
</tr>
<tr>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
1360
</td>
<td style="text-align:right;">
353
</td>
<td style="text-align:right;">
1449
</td>
<td style="text-align:right;">
7481
</td>
<td style="text-align:right;">
3534
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
9.59
</td>
<td style="text-align:right;">
2.49
</td>
<td style="text-align:right;">
10.22
</td>
<td style="text-align:right;">
52.77
</td>
<td style="text-align:right;">
24.93
</td>
</tr>
</tbody>
</table>
Next, we do the same thing for hours.
In Table <a href="data-processing.html#tab:table-imputed-zeros-hours">2.8</a>, we see a similar pattern.
<table>
<caption>
<span id="tab:table-imputed-zeros-hours">Table 2.8: </span>Proportion of imputed and natural zero hours
</caption>
<thead>
<tr>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
Zeros for no change
</th>
<th style="text-align:right;">
Zeros for no use
</th>
<th style="text-align:right;">
Zeros for first wave
</th>
<th style="text-align:right;">
Natural zeros
</th>
<th style="text-align:right;">
Nonzero
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Proportion no change
</th>
<th style="text-align:right;">
Proportion no use
</th>
<th style="text-align:right;">
Proportion first wave
</th>
<th style="text-align:right;">
Porportion natural
</th>
<th style="text-align:right;">
Proportion Nonzero
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
1148
</td>
<td style="text-align:right;">
7733
</td>
<td style="text-align:right;">
3273
</td>
<td style="text-align:right;">
712
</td>
<td style="text-align:right;">
1311
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.10
</td>
<td style="text-align:right;">
54.55
</td>
<td style="text-align:right;">
23.09
</td>
<td style="text-align:right;">
5.02
</td>
<td style="text-align:right;">
9.25
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
1214
</td>
<td style="text-align:right;">
3445
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
1543
</td>
<td style="text-align:right;">
5952
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.56
</td>
<td style="text-align:right;">
24.30
</td>
<td style="text-align:right;">
14.27
</td>
<td style="text-align:right;">
10.88
</td>
<td style="text-align:right;">
41.98
</td>
</tr>
<tr>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
1187
</td>
<td style="text-align:right;">
932
</td>
<td style="text-align:right;">
1291
</td>
<td style="text-align:right;">
703
</td>
<td style="text-align:right;">
10064
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.37
</td>
<td style="text-align:right;">
6.57
</td>
<td style="text-align:right;">
9.11
</td>
<td style="text-align:right;">
4.96
</td>
<td style="text-align:right;">
70.99
</td>
</tr>
<tr>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
1605
</td>
<td style="text-align:right;">
4203
</td>
<td style="text-align:right;">
2504
</td>
<td style="text-align:right;">
1014
</td>
<td style="text-align:right;">
4851
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.32
</td>
<td style="text-align:right;">
29.65
</td>
<td style="text-align:right;">
17.66
</td>
<td style="text-align:right;">
7.15
</td>
<td style="text-align:right;">
34.22
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
1564
</td>
<td style="text-align:right;">
5983
</td>
<td style="text-align:right;">
2940
</td>
<td style="text-align:right;">
1808
</td>
<td style="text-align:right;">
1882
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.03
</td>
<td style="text-align:right;">
42.20
</td>
<td style="text-align:right;">
20.74
</td>
<td style="text-align:right;">
12.75
</td>
<td style="text-align:right;">
13.28
</td>
</tr>
<tr>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
1584
</td>
<td style="text-align:right;">
431
</td>
<td style="text-align:right;">
1197
</td>
<td style="text-align:right;">
1029
</td>
<td style="text-align:right;">
9936
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.17
</td>
<td style="text-align:right;">
3.04
</td>
<td style="text-align:right;">
8.44
</td>
<td style="text-align:right;">
7.26
</td>
<td style="text-align:right;">
70.09
</td>
</tr>
<tr>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
1360
</td>
<td style="text-align:right;">
353
</td>
<td style="text-align:right;">
1449
</td>
<td style="text-align:right;">
344
</td>
<td style="text-align:right;">
10671
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
9.59
</td>
<td style="text-align:right;">
2.49
</td>
<td style="text-align:right;">
10.22
</td>
<td style="text-align:right;">
2.43
</td>
<td style="text-align:right;">
75.27
</td>
</tr>
</tbody>
</table>
<p>Ultimately, these zero imputations are just a matter of how many nonzero entries a medium had to begin with.
In other words: The more participants used a medium, the lower the proportion of imputed zeros for any reason.
Also, someone putting down one hour and zero minutes will have a zero up here, so these tables aren’t terribly informative.</p>
<p>How much total time is zero is much more informative.
Right now, hours and minutes are still separate, so we’ll create a <code>time</code> variable that maintains the negative placeholders we inserted above.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-processing.html#cb25-1" aria-hidden="true" tabindex="-1"></a>media_long <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="data-processing.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="data-processing.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb25-4"><a href="data-processing.html#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if minutes isn&#39;t negative, create time variable to maintain the placeholders</span></span>
<span id="cb25-5"><a href="data-processing.html#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">time =</span> <span class="fu">round</span>(<span class="fu">if_else</span>(minutes <span class="sc">&gt;=</span> <span class="dv">0</span>, hours <span class="sc">+</span> (minutes <span class="sc">/</span> <span class="dv">60</span>), minutes), <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb25-6"><a href="data-processing.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
In Table <a href="data-processing.html#tab:table-imputed-zeros-times">2.9</a>, we see a clearer pattern: The media with the most use (e.g., TV, music, films) have low imputed zeros, whereas those with little use (especially audio books) have a high amount of imputed zeros.
That’s in line with the high proportion of imputed values for no use (i.e., selecting not having used in waves 2 to 6) for the little used media.
<table>
<caption>
<span id="tab:table-imputed-zeros-times">Table 2.9: </span>Proportion of imputed and natural zero times
</caption>
<thead>
<tr>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
Zeros for no change
</th>
<th style="text-align:right;">
Zeros for no use
</th>
<th style="text-align:right;">
Zeros for first wave
</th>
<th style="text-align:right;">
Natural zeros
</th>
<th style="text-align:right;">
Nonzero
</th>
<th style="text-align:right;">
Total
</th>
<th style="text-align:right;">
Proportion no change
</th>
<th style="text-align:right;">
Proportion no use
</th>
<th style="text-align:right;">
Proportion first wave
</th>
<th style="text-align:right;">
Porportion natural
</th>
<th style="text-align:right;">
Proportion Nonzero
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
1148
</td>
<td style="text-align:right;">
7733
</td>
<td style="text-align:right;">
3273
</td>
<td style="text-align:right;">
290
</td>
<td style="text-align:right;">
1733
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.10
</td>
<td style="text-align:right;">
54.55
</td>
<td style="text-align:right;">
23.09
</td>
<td style="text-align:right;">
2.05
</td>
<td style="text-align:right;">
12.22
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
1214
</td>
<td style="text-align:right;">
3445
</td>
<td style="text-align:right;">
2023
</td>
<td style="text-align:right;">
295
</td>
<td style="text-align:right;">
7200
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.56
</td>
<td style="text-align:right;">
24.30
</td>
<td style="text-align:right;">
14.27
</td>
<td style="text-align:right;">
2.08
</td>
<td style="text-align:right;">
50.79
</td>
</tr>
<tr>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
1187
</td>
<td style="text-align:right;">
932
</td>
<td style="text-align:right;">
1291
</td>
<td style="text-align:right;">
302
</td>
<td style="text-align:right;">
10465
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
8.37
</td>
<td style="text-align:right;">
6.57
</td>
<td style="text-align:right;">
9.11
</td>
<td style="text-align:right;">
2.13
</td>
<td style="text-align:right;">
73.82
</td>
</tr>
<tr>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
1605
</td>
<td style="text-align:right;">
4203
</td>
<td style="text-align:right;">
2504
</td>
<td style="text-align:right;">
361
</td>
<td style="text-align:right;">
5504
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.32
</td>
<td style="text-align:right;">
29.65
</td>
<td style="text-align:right;">
17.66
</td>
<td style="text-align:right;">
2.55
</td>
<td style="text-align:right;">
38.82
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
1564
</td>
<td style="text-align:right;">
5983
</td>
<td style="text-align:right;">
2940
</td>
<td style="text-align:right;">
340
</td>
<td style="text-align:right;">
3350
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.03
</td>
<td style="text-align:right;">
42.20
</td>
<td style="text-align:right;">
20.74
</td>
<td style="text-align:right;">
2.40
</td>
<td style="text-align:right;">
23.63
</td>
</tr>
<tr>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
1584
</td>
<td style="text-align:right;">
431
</td>
<td style="text-align:right;">
1197
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
10828
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
11.17
</td>
<td style="text-align:right;">
3.04
</td>
<td style="text-align:right;">
8.44
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
76.38
</td>
</tr>
<tr>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
1360
</td>
<td style="text-align:right;">
353
</td>
<td style="text-align:right;">
1449
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
10954
</td>
<td style="text-align:right;">
14177
</td>
<td style="text-align:right;">
9.59
</td>
<td style="text-align:right;">
2.49
</td>
<td style="text-align:right;">
10.22
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
77.27
</td>
</tr>
</tbody>
</table>
<p>Let’s turn those negative values (i.e., the placeholders for zeros) into actual zeros and check for the overall occurrence of all zeros in relation to nonzero values.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-processing.html#cb26-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb26-2"><a href="data-processing.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="data-processing.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-4"><a href="data-processing.html#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-5"><a href="data-processing.html#cb26-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>), <span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>)),</span>
<span id="cb26-6"><a href="data-processing.html#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(.x <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, .x) <span class="co"># if negative, turn into zero</span></span>
<span id="cb26-7"><a href="data-processing.html#cb26-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-8"><a href="data-processing.html#cb26-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-9"><a href="data-processing.html#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="data-processing.html#cb26-10" aria-hidden="true" tabindex="-1"></a>media_long <span class="ot">&lt;-</span> </span>
<span id="cb26-11"><a href="data-processing.html#cb26-11" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span> </span>
<span id="cb26-12"><a href="data-processing.html#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-13"><a href="data-processing.html#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-14"><a href="data-processing.html#cb26-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">contains</span>(<span class="st">&quot;hours&quot;</span>), <span class="fu">contains</span>(<span class="st">&quot;minutes&quot;</span>)),</span>
<span id="cb26-15"><a href="data-processing.html#cb26-15" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(.x <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="dv">0</span>, .x) <span class="co"># same here</span></span>
<span id="cb26-16"><a href="data-processing.html#cb26-16" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb26-17"><a href="data-processing.html#cb26-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb26-18"><a href="data-processing.html#cb26-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">time =</span> <span class="fu">round</span>(hours <span class="sc">+</span> (minutes <span class="sc">/</span> <span class="dv">60</span>), <span class="at">digits =</span> <span class="dv">1</span>)</span>
<span id="cb26-19"><a href="data-processing.html#cb26-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
Then we’ll show zeros vs. nonzeros in Table <a href="data-processing.html#tab:zero-times-table">2.10</a>.
The table basically summarizes all tables so far, showing the popularity of the medium and how much we had to impute.
<table>
<caption>
<span id="tab:zero-times-table">Table 2.10: </span>Proportion of 0 hours, per medium
</caption>
<thead>
<tr>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
Above 0h
</th>
<th style="text-align:right;">
0h
</th>
<th style="text-align:right;">
Proportion
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
1733
</td>
<td style="text-align:right;">
12444
</td>
<td style="text-align:right;">
87.78
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
7200
</td>
<td style="text-align:right;">
6977
</td>
<td style="text-align:right;">
49.21
</td>
</tr>
<tr>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
10465
</td>
<td style="text-align:right;">
3712
</td>
<td style="text-align:right;">
26.18
</td>
</tr>
<tr>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
5504
</td>
<td style="text-align:right;">
8673
</td>
<td style="text-align:right;">
61.18
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
3350
</td>
<td style="text-align:right;">
10827
</td>
<td style="text-align:right;">
76.37
</td>
</tr>
<tr>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
10828
</td>
<td style="text-align:right;">
3349
</td>
<td style="text-align:right;">
23.62
</td>
</tr>
<tr>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
10954
</td>
<td style="text-align:right;">
3223
</td>
<td style="text-align:right;">
22.73
</td>
</tr>
</tbody>
</table>
<p>Alright, next we’ll visually inspect the distribution of self-reported use times per medium.
We’ll be working with the <code>working_file</code> again, for which we need to calculate the time per medium.
Like before, I’ll do that manually for all seven media.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-processing.html#cb27-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb27-2"><a href="data-processing.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="data-processing.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-4"><a href="data-processing.html#cb27-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-5"><a href="data-processing.html#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb27-6"><a href="data-processing.html#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_time =</span> music_hours <span class="sc">+</span> (music_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-7"><a href="data-processing.html#cb27-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-8"><a href="data-processing.html#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb27-9"><a href="data-processing.html#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_time =</span> films_hours <span class="sc">+</span> (films_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-10"><a href="data-processing.html#cb27-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-11"><a href="data-processing.html#cb27-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb27-12"><a href="data-processing.html#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_time =</span> tv_hours <span class="sc">+</span> (tv_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-13"><a href="data-processing.html#cb27-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-14"><a href="data-processing.html#cb27-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># video games</span></span>
<span id="cb27-15"><a href="data-processing.html#cb27-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_time =</span> games_hours <span class="sc">+</span> (games_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-16"><a href="data-processing.html#cb27-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-17"><a href="data-processing.html#cb27-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ebooks</span></span>
<span id="cb27-18"><a href="data-processing.html#cb27-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">books_time =</span> books_hours <span class="sc">+</span> (books_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-19"><a href="data-processing.html#cb27-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-20"><a href="data-processing.html#cb27-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># magazines</span></span>
<span id="cb27-21"><a href="data-processing.html#cb27-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">magazines_time =</span> magazines_hours <span class="sc">+</span> (magazines_minutes <span class="sc">/</span> <span class="dv">60</span>),</span>
<span id="cb27-22"><a href="data-processing.html#cb27-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb27-23"><a href="data-processing.html#cb27-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># audiobooks</span></span>
<span id="cb27-24"><a href="data-processing.html#cb27-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">audiobooks_time =</span> audiobooks_hours <span class="sc">+</span> (audiobooks_minutes <span class="sc">/</span> <span class="dv">60</span>)</span>
<span id="cb27-25"><a href="data-processing.html#cb27-25" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>In Figure <a href="data-processing.html#fig:plot-minutes-hours-per-medium">2.1</a> we see the distribution of use time per medium.
Those figures aren’t super accurate for practical reasons: For some media, there’s so many zeros that there isn’t enough jitter in the cloud which is why they’re all so bunched up together on the left.</p>
There’s many entries of more than 18h of <strong>average daily use</strong>, which is close to impossible if someone sleeps at least six hours.
<div class="figure"><span id="fig:plot-minutes-hours-per-medium"></span>
<img src="analysis_report_files/figure-html/plot-minutes-hours-per-medium-1.png" alt="Distribution of self-reported time per medium" width="816" />
<p class="caption">
Figure 2.1: Distribution of self-reported time per medium
</p>
</div>
<p>In Table <a href="data-processing.html#tab:implausible-use-table">2.11</a> we see that very few entries are above 18h, relative to all other values, which is a good sign.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-processing.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># count proportion per medium</span></span>
<span id="cb28-2"><a href="data-processing.html#cb28-2" aria-hidden="true" tabindex="-1"></a>media_long <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="data-processing.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(medium) <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="data-processing.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(time <span class="sc">&gt;=</span> <span class="dv">18</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="data-processing.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb28-6"><a href="data-processing.html#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">`</span><span class="at">time &gt;= 18</span><span class="st">`</span>,</span>
<span id="cb28-7"><a href="data-processing.html#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">&quot;n&quot;</span></span>
<span id="cb28-8"><a href="data-processing.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-9"><a href="data-processing.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb28-10"><a href="data-processing.html#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Below 18h&quot;</span> <span class="ot">=</span> <span class="st">`</span><span class="at">FALSE</span><span class="st">`</span>,</span>
<span id="cb28-11"><a href="data-processing.html#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Above 18h&quot;</span> <span class="ot">=</span> <span class="st">`</span><span class="at">TRUE</span><span class="st">`</span></span>
<span id="cb28-12"><a href="data-processing.html#cb28-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="data-processing.html#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-14"><a href="data-processing.html#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Proportion =</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Above 18h</span><span class="st">`</span> <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">Above 18h</span><span class="st">`</span>, <span class="st">`</span><span class="at">Below 18h</span><span class="st">`</span>)) <span class="sc">*</span> <span class="dv">100</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb28-15"><a href="data-processing.html#cb28-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb28-16"><a href="data-processing.html#cb28-16" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb28-17"><a href="data-processing.html#cb28-17" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb28-18"><a href="data-processing.html#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Proportion of hours above 18&quot;</span></span>
<span id="cb28-19"><a href="data-processing.html#cb28-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<table>
<caption>
<span id="tab:implausible-use-table">Table 2.11: </span>Proportion of hours above 18
</caption>
<thead>
<tr>
<th style="text-align:left;">
medium
</th>
<th style="text-align:right;">
Below 18h
</th>
<th style="text-align:right;">
Above 18h
</th>
<th style="text-align:right;">
Proportion
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
audiobooks
</td>
<td style="text-align:right;">
14165
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.08
</td>
</tr>
<tr>
<td style="text-align:left;">
books
</td>
<td style="text-align:right;">
14120
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
0.40
</td>
</tr>
<tr>
<td style="text-align:left;">
films
</td>
<td style="text-align:right;">
13955
</td>
<td style="text-align:right;">
222
</td>
<td style="text-align:right;">
1.57
</td>
</tr>
<tr>
<td style="text-align:left;">
games
</td>
<td style="text-align:right;">
14025
</td>
<td style="text-align:right;">
152
</td>
<td style="text-align:right;">
1.07
</td>
</tr>
<tr>
<td style="text-align:left;">
magazines
</td>
<td style="text-align:right;">
14158
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
0.13
</td>
</tr>
<tr>
<td style="text-align:left;">
music
</td>
<td style="text-align:right;">
14000
</td>
<td style="text-align:right;">
177
</td>
<td style="text-align:right;">
1.25
</td>
</tr>
<tr>
<td style="text-align:left;">
tv
</td>
<td style="text-align:right;">
13775
</td>
<td style="text-align:right;">
402
</td>
<td style="text-align:right;">
2.84
</td>
</tr>
</tbody>
</table>
<div id="participant-level" class="section level4" number="2.5.1.1">
<h4><span class="header-section-number">2.5.1.1</span> Participant-level</h4>
<p>Let’s follow up on those who reported 18h or more use of a medium and check whether there are any participants whose estimates we cannot really trust.</p>
<p>We need to distinguish between completely excluding a participant (whose answers we don’t trust for all waves they provided) and wave-level exclusions (when we trust the data of the participant, except for one or two waves).</p>
<p>As for implausible values on the participant-level, I’d say the following are indicators of poor quality:</p>
<ol style="list-style-type: decimal">
<li>More than 30% of time estimates participants provided (excluding zeros imputed by us) across all waves are above 18h.</li>
<li>More than one instance of a 23h+ estimate across all waves.</li>
<li>More than one instance where the sum of nonzero estimates is above 48h in a wave.</li>
</ol>
<p>Let’s look at the proportion of very high reported use times.
Self-reported use is also about how much people <strong>feel</strong> like they used medium, so I’ll be liberal here.
I’d say we can’t trust a participant if they estimated 18+ hours in &gt; 30% of all their time estimates, across all waves.
Below, I’ll count per participant how many times they estimated 18+ hours of consumption in relation to all time estimates they provided.
I’ll not include zero times in that account because we imputed times of zero.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-processing.html#cb29-1" aria-hidden="true" tabindex="-1"></a>implausible_pp_level_1  <span class="ot">&lt;-</span> </span>
<span id="cb29-2"><a href="data-processing.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="data-processing.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="co"># nonzero</span></span>
<span id="cb29-4"><a href="data-processing.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, medium) <span class="sc">%&gt;%</span> </span>
<span id="cb29-5"><a href="data-processing.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-6"><a href="data-processing.html#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">above18 =</span> <span class="fu">sum</span>(time <span class="sc">&gt;=</span> <span class="dv">18</span>),</span>
<span id="cb29-7"><a href="data-processing.html#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">below18 =</span> <span class="fu">sum</span>(time <span class="sc">&lt;</span> <span class="dv">18</span>),</span>
<span id="cb29-8"><a href="data-processing.html#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">waves =</span> <span class="fu">n</span>()</span>
<span id="cb29-9"><a href="data-processing.html#cb29-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-10"><a href="data-processing.html#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb29-11"><a href="data-processing.html#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb29-12"><a href="data-processing.html#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-13"><a href="data-processing.html#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">above18 =</span> <span class="fu">sum</span>(above18),</span>
<span id="cb29-14"><a href="data-processing.html#cb29-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">below18 =</span> <span class="fu">sum</span>(below18),</span>
<span id="cb29-15"><a href="data-processing.html#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">entries =</span> <span class="fu">sum</span>(waves),</span>
<span id="cb29-16"><a href="data-processing.html#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion_above18 =</span> <span class="fu">round</span>(above18 <span class="sc">/</span> entries, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb29-17"><a href="data-processing.html#cb29-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb29-18"><a href="data-processing.html#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb29-19"><a href="data-processing.html#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(proportion_above18)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-20"><a href="data-processing.html#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(proportion_above18 <span class="sc">&gt;</span> <span class="fl">0.3</span>)</span>
<span id="cb29-21"><a href="data-processing.html#cb29-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-22"><a href="data-processing.html#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="co"># store the participants that were above that threshold</span></span>
<span id="cb29-23"><a href="data-processing.html#cb29-23" aria-hidden="true" tabindex="-1"></a>exclusions_pp_1 <span class="ot">&lt;-</span> </span>
<span id="cb29-24"><a href="data-processing.html#cb29-24" aria-hidden="true" tabindex="-1"></a>  implausible_pp_level_1 <span class="sc">%&gt;%</span> </span>
<span id="cb29-25"><a href="data-processing.html#cb29-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb29-26"><a href="data-processing.html#cb29-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span></code></pre></div>
In Table <a href="data-processing.html#tab:table-implausible-pp-1">2.12</a> we see that there’s mostly participants that fulfill these exclusions who completed only a wave or two, so there’s most likely a correlation between their motivation to participate and how seriously they took the survey.
<strong>Note: For all tables on exclusions, I show the first 15 rows.</strong>
<table>
<caption>
<span id="tab:table-implausible-pp-1">Table 2.12: </span>Proportion of respondents who reported use of 18h in more than 30% of their estimates
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
above18
</th>
<th style="text-align:right;">
below18
</th>
<th style="text-align:right;">
entries
</th>
<th style="text-align:right;">
proportion_above18
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_103
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_3009
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_4833
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_5153
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_5468
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_5915
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_6008
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_6610
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_752
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_6170
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.80
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_633
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.80
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_6471
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.75
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_128
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
0.71
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_4394
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.67
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_4446
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.67
</td>
</tr>
</tbody>
</table>
<p>Overall, there were 98 participants who fall into the first exclusion criterion.
Next, participants might feel like they played the whole day, so saying 23 hours of play on average is close to impossible.
I’d say that can happen, but if it happens twice across waves, I wouldn’t trust that participant.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-processing.html#cb30-1" aria-hidden="true" tabindex="-1"></a>implausible_pp_level_2 <span class="ot">&lt;-</span> </span>
<span id="cb30-2"><a href="data-processing.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="data-processing.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="data-processing.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-5"><a href="data-processing.html#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">above23 =</span> <span class="fu">sum</span>(time <span class="sc">&gt;=</span> <span class="dv">23</span>),</span>
<span id="cb30-6"><a href="data-processing.html#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">below23 =</span> <span class="fu">sum</span>(time <span class="sc">&lt;</span> <span class="dv">23</span>)</span>
<span id="cb30-7"><a href="data-processing.html#cb30-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb30-8"><a href="data-processing.html#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(above23 <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb30-9"><a href="data-processing.html#cb30-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-10"><a href="data-processing.html#cb30-10" aria-hidden="true" tabindex="-1"></a><span class="co"># store the IDs</span></span>
<span id="cb30-11"><a href="data-processing.html#cb30-11" aria-hidden="true" tabindex="-1"></a>exclusions_pp_2 <span class="ot">&lt;-</span> </span>
<span id="cb30-12"><a href="data-processing.html#cb30-12" aria-hidden="true" tabindex="-1"></a>  implausible_pp_level_2 <span class="sc">%&gt;%</span> </span>
<span id="cb30-13"><a href="data-processing.html#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb30-14"><a href="data-processing.html#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span></code></pre></div>
There were 37 participants who fell into the second criterion.
In Table <a href="data-processing.html#tab:table-implausible-pp-2">2.13</a> we see that there’s mostly participants that fulfill these exclusions who completed only a wave or two, so there’s most likely a correlation between their motivation to participate and how seriously they took the survey.
<table>
<caption>
<span id="tab:table-implausible-pp-2">Table 2.13: </span>Proportion of respondents who reported more than one instance of 23h use across waves
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
above23
</th>
<th style="text-align:right;">
below23
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_1116
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
32
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1162
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
37
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1246
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_128
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
35
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1420
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
39
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_156
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
19
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1737
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2072
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2111
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
38
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2287
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2310
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2436
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
40
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_252
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
30
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2533
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
39
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_2537
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
32
</td>
</tr>
</tbody>
</table>
<p>By the same logic, some weeks might feel very intense, and participants surely didn’t keep track of what they reported for use throughout all media.
So it’s possible if we add up all times, there’ll be instances where the sum is above 24h, even around 48h.
After all, participants can multitask, but if they use three media at the same time for 16 hours, that’s 48h.
I’d say that can happen theoretically, but not over multiple weeks.
So if there’s more than one wave where the total is equal to or above 48h, I don’t think the participant read the question correctly.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="data-processing.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get total time</span></span>
<span id="cb31-2"><a href="data-processing.html#cb31-2" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb31-3"><a href="data-processing.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb31-4"><a href="data-processing.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-5"><a href="data-processing.html#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_time =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">contains</span>(<span class="st">&quot;time&quot;</span>)))</span>
<span id="cb31-6"><a href="data-processing.html#cb31-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-7"><a href="data-processing.html#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="data-processing.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># get counts of more than 48h total time</span></span>
<span id="cb31-9"><a href="data-processing.html#cb31-9" aria-hidden="true" tabindex="-1"></a>implausible_pp_level_3 <span class="ot">&lt;-</span> </span>
<span id="cb31-10"><a href="data-processing.html#cb31-10" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb31-11"><a href="data-processing.html#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb31-12"><a href="data-processing.html#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb31-13"><a href="data-processing.html#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">above48_count =</span> <span class="fu">sum</span>(total_time <span class="sc">&gt;=</span> <span class="dv">48</span>)</span>
<span id="cb31-14"><a href="data-processing.html#cb31-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb31-15"><a href="data-processing.html#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(above48_count <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb31-16"><a href="data-processing.html#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="data-processing.html#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># store the IDs</span></span>
<span id="cb31-18"><a href="data-processing.html#cb31-18" aria-hidden="true" tabindex="-1"></a>exclusions_pp_3 <span class="ot">&lt;-</span> </span>
<span id="cb31-19"><a href="data-processing.html#cb31-19" aria-hidden="true" tabindex="-1"></a>  implausible_pp_level_3 <span class="sc">%&gt;%</span> </span>
<span id="cb31-20"><a href="data-processing.html#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb31-21"><a href="data-processing.html#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span></code></pre></div>
In Table <a href="data-processing.html#tab:table-implausible-pp-3">2.14</a> we see that there’s a bunch of participants who had 48h of total media use more than once (in total 53).
<table>
<caption>
<span id="tab:table-implausible-pp-3">Table 2.14: </span>Respondents who reported a total media use time of 48h or more across multiple weeks
</caption>
<thead>
<tr>
<th style="text-align:left;">
id
</th>
<th style="text-align:right;">
above48_count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pp_1052
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1122
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1162
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_128
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_13
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1425
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1460
</td>
<td style="text-align:right;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1510
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1534
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1653
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1655
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1666
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1667
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1688
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
pp_1816
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
<p>Last, let’s check how many unique participants we’d need to exclude if we applied all three of those exclusion criteria (taking into account overalp).</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-processing.html#cb32-1" aria-hidden="true" tabindex="-1"></a>exclusions_pp <span class="ot">&lt;-</span> </span>
<span id="cb32-2"><a href="data-processing.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(exclusions_pp_1, exclusions_pp_2, exclusions_pp_3) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="data-processing.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code></pre></div>
</div>
<div id="wave-level" class="section level4" number="2.5.1.2">
<h4><span class="header-section-number">2.5.1.2</span> Wave-level</h4>
<p>As for implausible values on the wave-level, I’ll apply the following criteria:</p>
<ol style="list-style-type: decimal">
<li>Any wave that has more than two estimates of using a medium for 16h+.</li>
<li>Any wave where the sum of use times is above 64h.</li>
<li>Any wave where a participant estimated use of 23h or more.</li>
</ol>
<p>Again, it’s probably not uncommon to report a high number if I went on a reading-binge.
But I’d say if you sleep eight hours, reporting the rest of the time twice for a wave is suspicious, so there’s probably a typo or someone didn’t take the question seriously.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data-processing.html#cb33-1" aria-hidden="true" tabindex="-1"></a>implausible_wave_level_1 <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="data-processing.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="data-processing.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, wave) <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href="data-processing.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb33-5"><a href="data-processing.html#cb33-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">two16s =</span> <span class="fu">sum</span>(time <span class="sc">&gt;=</span> <span class="dv">16</span>)</span>
<span id="cb33-6"><a href="data-processing.html#cb33-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb33-7"><a href="data-processing.html#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(two16s <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb33-8"><a href="data-processing.html#cb33-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-9"><a href="data-processing.html#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># store the rows that were above that threshold</span></span>
<span id="cb33-10"><a href="data-processing.html#cb33-10" aria-hidden="true" tabindex="-1"></a>exclusions_wave_1 <span class="ot">&lt;-</span> </span>
<span id="cb33-11"><a href="data-processing.html#cb33-11" aria-hidden="true" tabindex="-1"></a>  implausible_wave_level_1 <span class="sc">%&gt;%</span> </span>
<span id="cb33-12"><a href="data-processing.html#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, wave)</span></code></pre></div>
<p>Overall, we have 166 rows of data we need to exclude from 107 participants.
However, of those, 72 were already identified as suspicious in the participant-level exclusions.</p>
<p>Next, we inspect waves where even excessive multitasking per day exceeds a reasonable threshold.
If someone multitasked with three media every waking hour, they’d have 16h x 3 = 48h.
Therefore, we exclude waves where the sum of use times is equal or above four times all day multitasking: 16h x 3 = 64.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-processing.html#cb34-1" aria-hidden="true" tabindex="-1"></a>implausible_wave_level_2 <span class="ot">&lt;-</span> </span>
<span id="cb34-2"><a href="data-processing.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="data-processing.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-4"><a href="data-processing.html#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_time =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">contains</span>(<span class="st">&quot;time&quot;</span>)))</span>
<span id="cb34-5"><a href="data-processing.html#cb34-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb34-6"><a href="data-processing.html#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_time <span class="sc">&gt;=</span> <span class="dv">64</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-7"><a href="data-processing.html#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, wave, <span class="fu">contains</span>(<span class="st">&quot;time&quot;</span>))</span>
<span id="cb34-8"><a href="data-processing.html#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="data-processing.html#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="co"># store the rows</span></span>
<span id="cb34-10"><a href="data-processing.html#cb34-10" aria-hidden="true" tabindex="-1"></a>exclusions_wave_2 <span class="ot">&lt;-</span> </span>
<span id="cb34-11"><a href="data-processing.html#cb34-11" aria-hidden="true" tabindex="-1"></a>  implausible_wave_level_2 <span class="sc">%&gt;%</span> </span>
<span id="cb34-12"><a href="data-processing.html#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, wave)</span></code></pre></div>
<p>For this criterion, we have 1026 rows of data we need to exclude from 526 participants.
However, of those, 109 were already identified as suspicious in the participant-level exclusions.</p>
<p>Last on the wave-level, we want to exclude any row where participants estimated 23h of daily use of any medium.
Maybe one can multitask with three media for 16h a day, but an average use of 23h <strong>daily</strong> for a week is close to impossible.
On the participant level, we already had an exclusion criterion where all of people’s rows were excluded if they had more than one estimate of 23h (across all waves).</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-processing.html#cb35-1" aria-hidden="true" tabindex="-1"></a>implausible_wave_level_3 <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a href="data-processing.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  media_long <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="data-processing.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, wave) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="data-processing.html#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb35-5"><a href="data-processing.html#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_time =</span> <span class="fu">max</span>(time)</span>
<span id="cb35-6"><a href="data-processing.html#cb35-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb35-7"><a href="data-processing.html#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(max_time <span class="sc">&gt;=</span> <span class="dv">23</span>)</span>
<span id="cb35-8"><a href="data-processing.html#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="data-processing.html#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># store the rows that were above that threshold</span></span>
<span id="cb35-10"><a href="data-processing.html#cb35-10" aria-hidden="true" tabindex="-1"></a>exclusions_wave_3 <span class="ot">&lt;-</span> </span>
<span id="cb35-11"><a href="data-processing.html#cb35-11" aria-hidden="true" tabindex="-1"></a>  implausible_wave_level_3 <span class="sc">%&gt;%</span> </span>
<span id="cb35-12"><a href="data-processing.html#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, wave)</span></code></pre></div>
<p>For this criterion, we have 184 rows of data we need to exclude from 128 participants.
However, of those, 73 were already identified as suspicious in the participant-level exclusions.</p>
<p>Before I remove those cases and rows from the data, I’ll go to response patterns.
I’ll do the actual exclusions at the end of this section.</p>
</div>
</div>
<div id="response-patterns" class="section level3" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> Response patterns</h3>
<p>In surveys, people who didn’t take the study seriously often provide implausible values (see section above), rush, or have response patterns.
Out of experience, response patterns are an indicator of poor data quality.
I’ll mostly be looking at straightlining, so selecting the same answer option for each item in a scale.
Usually, straightlining isn’t uncommon for, say, well-being scales, so I don’t want to be too strict here and exclude valid cases.</p>
<p>Also, if participants repeatedly provide the same time estimate <strong>across</strong> different media, I’d be suspicious of their responses.</p>
<ol style="list-style-type: decimal">
<li>Anyone who straightlined on more than two of the identity scales (minimum of three media).</li>
<li>Anyone who has the same total time in each wave (minimum three media and waves).</li>
</ol>
<p>For the first criterion, we calculate the variance for each identity scale (provided participants provided a response).
If someone straightlined at three (of at least three) scales, I wouldn’t trust them to take the survey seriously.
Note that magazines and audio books didn’t have identity questions.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-processing.html#cb36-1" aria-hidden="true" tabindex="-1"></a>exclusions_pp_4 <span class="ot">&lt;-</span> </span>
<span id="cb36-2"><a href="data-processing.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="data-processing.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-4"><a href="data-processing.html#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create the variance variables per row</span></span>
<span id="cb36-5"><a href="data-processing.html#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href="data-processing.html#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-7"><a href="data-processing.html#cb36-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-8"><a href="data-processing.html#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music identity variance</span></span>
<span id="cb36-9"><a href="data-processing.html#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_identity_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb36-10"><a href="data-processing.html#cb36-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;music_identity&quot;</span>)),</span>
<span id="cb36-11"><a href="data-processing.html#cb36-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb36-12"><a href="data-processing.html#cb36-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-13"><a href="data-processing.html#cb36-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-14"><a href="data-processing.html#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films identity variance</span></span>
<span id="cb36-15"><a href="data-processing.html#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_identity_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb36-16"><a href="data-processing.html#cb36-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;films_identity&quot;</span>)),</span>
<span id="cb36-17"><a href="data-processing.html#cb36-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb36-18"><a href="data-processing.html#cb36-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-19"><a href="data-processing.html#cb36-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-20"><a href="data-processing.html#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv identity variance</span></span>
<span id="cb36-21"><a href="data-processing.html#cb36-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_identity_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb36-22"><a href="data-processing.html#cb36-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;tv_identity&quot;</span>)),</span>
<span id="cb36-23"><a href="data-processing.html#cb36-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb36-24"><a href="data-processing.html#cb36-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-25"><a href="data-processing.html#cb36-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-26"><a href="data-processing.html#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># games identity variance</span></span>
<span id="cb36-27"><a href="data-processing.html#cb36-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_identity_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb36-28"><a href="data-processing.html#cb36-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;games_identity&quot;</span>)),</span>
<span id="cb36-29"><a href="data-processing.html#cb36-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb36-30"><a href="data-processing.html#cb36-30" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-31"><a href="data-processing.html#cb36-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-32"><a href="data-processing.html#cb36-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># epublishing identity variance</span></span>
<span id="cb36-33"><a href="data-processing.html#cb36-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">e_publishing_identity_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb36-34"><a href="data-processing.html#cb36-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;e_publishing_identity&quot;</span>)),</span>
<span id="cb36-35"><a href="data-processing.html#cb36-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb36-36"><a href="data-processing.html#cb36-36" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-37"><a href="data-processing.html#cb36-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-38"><a href="data-processing.html#cb36-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb36-39"><a href="data-processing.html#cb36-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-40"><a href="data-processing.html#cb36-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we&#39;re only looking at the first wave where the identity questions were asked</span></span>
<span id="cb36-41"><a href="data-processing.html#cb36-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb36-42"><a href="data-processing.html#cb36-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wave <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-43"><a href="data-processing.html#cb36-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb36-44"><a href="data-processing.html#cb36-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-45"><a href="data-processing.html#cb36-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># now we check who answered at least three identity scales by summing the filer questions</span></span>
<span id="cb36-46"><a href="data-processing.html#cb36-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-47"><a href="data-processing.html#cb36-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">media_number =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., filter_music<span class="sc">:</span>filter_ebooks)),</span>
<span id="cb36-48"><a href="data-processing.html#cb36-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">at_least_three =</span> <span class="fu">if_else</span>(media_number <span class="sc">&gt;=</span> <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb36-49"><a href="data-processing.html#cb36-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-50"><a href="data-processing.html#cb36-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(at_least_three <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-51"><a href="data-processing.html#cb36-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-52"><a href="data-processing.html#cb36-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a variable that counts how many of the variances are zero</span></span>
<span id="cb36-53"><a href="data-processing.html#cb36-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-54"><a href="data-processing.html#cb36-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">multiple_straightlines =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">ends_with</span>(<span class="st">&quot;_sd&quot;</span>)) <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb36-55"><a href="data-processing.html#cb36-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-56"><a href="data-processing.html#cb36-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(multiple_straightlines <span class="sc">&gt;</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-57"><a href="data-processing.html#cb36-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-58"><a href="data-processing.html#cb36-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and select participants</span></span>
<span id="cb36-59"><a href="data-processing.html#cb36-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb36-60"><a href="data-processing.html#cb36-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span></code></pre></div>
<p>For this criterion, we have 72 participants.
Of those, 6 were already identified as suspicious in the participant-level exclusions previously.</p>
<p>On to the second criterion: Someone might be very consistent and provide the same use times at each wave (excluding nonzero estimates).
However, if a person provides the same use estimates for each medium across all waves (minimum three waves), I’d say they’re just trying to get the survey done and rely on the time that they survey prompted.</p>
<p>So below I’ll check who has the same total time (i.e., reporting the same time across all media) in all of their waves.
To avoid excluding people for whom this occurred only once, I’ll set a minimum of three media and three waves.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-processing.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get participants who have at least three waves and media use estimates</span></span>
<span id="cb37-2"><a href="data-processing.html#cb37-2" aria-hidden="true" tabindex="-1"></a>three_media_and_waves <span class="ot">&lt;-</span> </span>
<span id="cb37-3"><a href="data-processing.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="data-processing.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-5"><a href="data-processing.html#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">media_number =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;filter&quot;</span>))) <span class="co"># minimum three media</span></span>
<span id="cb37-6"><a href="data-processing.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="data-processing.html#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(media_number <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-8"><a href="data-processing.html#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(id) <span class="sc">%&gt;%</span> <span class="co"># count waves</span></span>
<span id="cb37-9"><a href="data-processing.html#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-10"><a href="data-processing.html#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb37-11"><a href="data-processing.html#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span>
<span id="cb37-12"><a href="data-processing.html#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="data-processing.html#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="co"># then filter by those participants and check how many times their total times are constant</span></span>
<span id="cb37-14"><a href="data-processing.html#cb37-14" aria-hidden="true" tabindex="-1"></a>exclusions_pp_5 <span class="ot">&lt;-</span> </span>
<span id="cb37-15"><a href="data-processing.html#cb37-15" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb37-16"><a href="data-processing.html#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> three_media_and_waves) <span class="sc">%&gt;%</span> </span>
<span id="cb37-17"><a href="data-processing.html#cb37-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, wave, total_time) <span class="sc">%&gt;%</span> </span>
<span id="cb37-18"><a href="data-processing.html#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span></span>
<span id="cb37-19"><a href="data-processing.html#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb37-20"><a href="data-processing.html#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">distinct_times =</span> <span class="fu">n_distinct</span>(total_time)</span>
<span id="cb37-21"><a href="data-processing.html#cb37-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb37-22"><a href="data-processing.html#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(distinct_times <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb37-23"><a href="data-processing.html#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb37-24"><a href="data-processing.html#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.character</span>()</span></code></pre></div>
<p>Only 14 participants fulfilled this criterion.
Of those, 1 were already identified as suspicious in the participant-level exclusions previously.</p>
<p>Alright, let’s add those participants with response patterns to those with implausible values.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-processing.html#cb38-1" aria-hidden="true" tabindex="-1"></a>exclusions_pp <span class="ot">&lt;-</span> </span>
<span id="cb38-2"><a href="data-processing.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(exclusions_pp, exclusions_pp_4, exclusions_pp_5) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="data-processing.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code></pre></div>
</div>
<div id="applying-exclusions" class="section level3" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> Applying exclusions</h3>
<p>As a last step, we exclude those participants whom we identified as having low data quality.
How many people we exclude will depend on what our starting sample is.
Currently, we still have the whole sample, but for the analysis, we’ll restrict valid cases to those who responded to a certain number of waves.</p>
<p>Below in Table <a href="data-processing.html#tab:show-pp-exclusions">2.15</a> I’ll show, per wave, how many people we’d exclude for each exclusion criterion plus what proportion of the valid sample (aka how many participants have at least that many waves) we have left.</p>
Note that some participants fulfill multiple exclusions, so the last columns shows the cumulative exclusions and proportion of the respective sample.
For the analysis, mixed-effects models weigh participants with more data more heavily, which means we can use everyone with at least three waves (because we used lagged predictors).
<table>
<caption>
<span id="tab:show-pp-exclusions">Table 2.15: </span>Exclusions depending on how many minimum waves participants must have
</caption>
<thead>
<tr>
<th style="text-align:left;">
Participants
</th>
<th style="text-align:right;">
Wave 1
</th>
<th style="text-align:right;">
Wave 2
</th>
<th style="text-align:right;">
Wave 3
</th>
<th style="text-align:right;">
Wave 4
</th>
<th style="text-align:right;">
Wave 5
</th>
<th style="text-align:right;">
Wave 6
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
N
</td>
<td style="text-align:right;">
3863.00
</td>
<td style="text-align:right;">
2792.00
</td>
<td style="text-align:right;">
2369.00
</td>
<td style="text-align:right;">
2132.00
</td>
<td style="text-align:right;">
1947.00
</td>
<td style="text-align:right;">
1074.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 1
</td>
<td style="text-align:right;">
3765.00
</td>
<td style="text-align:right;">
2764.00
</td>
<td style="text-align:right;">
2347.00
</td>
<td style="text-align:right;">
2115.00
</td>
<td style="text-align:right;">
1931.00
</td>
<td style="text-align:right;">
1065.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 1 %
</td>
<td style="text-align:right;">
2.54
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
0.82
</td>
<td style="text-align:right;">
0.84
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 2
</td>
<td style="text-align:right;">
3826.00
</td>
<td style="text-align:right;">
2761.00
</td>
<td style="text-align:right;">
2343.00
</td>
<td style="text-align:right;">
2109.00
</td>
<td style="text-align:right;">
1927.00
</td>
<td style="text-align:right;">
1061.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 2 %
</td>
<td style="text-align:right;">
0.96
</td>
<td style="text-align:right;">
1.11
</td>
<td style="text-align:right;">
1.10
</td>
<td style="text-align:right;">
1.08
</td>
<td style="text-align:right;">
1.03
</td>
<td style="text-align:right;">
1.21
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 3
</td>
<td style="text-align:right;">
3810.00
</td>
<td style="text-align:right;">
2739.00
</td>
<td style="text-align:right;">
2324.00
</td>
<td style="text-align:right;">
2093.00
</td>
<td style="text-align:right;">
1914.00
</td>
<td style="text-align:right;">
1053.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 3 %
</td>
<td style="text-align:right;">
1.37
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
1.83
</td>
<td style="text-align:right;">
1.69
</td>
<td style="text-align:right;">
1.96
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 4
</td>
<td style="text-align:right;">
3791.00
</td>
<td style="text-align:right;">
2739.00
</td>
<td style="text-align:right;">
2324.00
</td>
<td style="text-align:right;">
2092.00
</td>
<td style="text-align:right;">
1911.00
</td>
<td style="text-align:right;">
1055.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 4 %
</td>
<td style="text-align:right;">
1.86
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
1.90
</td>
<td style="text-align:right;">
1.88
</td>
<td style="text-align:right;">
1.85
</td>
<td style="text-align:right;">
1.77
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 5
</td>
<td style="text-align:right;">
3849.00
</td>
<td style="text-align:right;">
2778.00
</td>
<td style="text-align:right;">
2355.00
</td>
<td style="text-align:right;">
2120.00
</td>
<td style="text-align:right;">
1935.00
</td>
<td style="text-align:right;">
1068.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion 5 %
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.59
</td>
<td style="text-align:right;">
0.56
</td>
<td style="text-align:right;">
0.62
</td>
<td style="text-align:right;">
0.56
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion all
</td>
<td style="text-align:right;">
3630.00
</td>
<td style="text-align:right;">
2648.00
</td>
<td style="text-align:right;">
2246.00
</td>
<td style="text-align:right;">
2027.00
</td>
<td style="text-align:right;">
1853.00
</td>
<td style="text-align:right;">
1022.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Exclusion all %
</td>
<td style="text-align:right;">
6.03
</td>
<td style="text-align:right;">
5.16
</td>
<td style="text-align:right;">
5.19
</td>
<td style="text-align:right;">
4.92
</td>
<td style="text-align:right;">
4.83
</td>
<td style="text-align:right;">
4.84
</td>
</tr>
</tbody>
</table>
<p>Let’s also combine all wave-level exclusions.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-processing.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first, I&#39;ll combine all three wave-level exclusions</span></span>
<span id="cb39-2"><a href="data-processing.html#cb39-2" aria-hidden="true" tabindex="-1"></a>exclusions_wave <span class="ot">&lt;-</span> </span>
<span id="cb39-3"><a href="data-processing.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb39-4"><a href="data-processing.html#cb39-4" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_1,</span>
<span id="cb39-5"><a href="data-processing.html#cb39-5" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_2</span>
<span id="cb39-6"><a href="data-processing.html#cb39-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-7"><a href="data-processing.html#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb39-8"><a href="data-processing.html#cb39-8" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb39-9"><a href="data-processing.html#cb39-9" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_3</span>
<span id="cb39-10"><a href="data-processing.html#cb39-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb39-11"><a href="data-processing.html#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb39-12"><a href="data-processing.html#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<p>Before we apply the exclusions, let’s first create a data frame which we can use later to plot exclusions for the paper.
It’ll be similar to the one above, but restricted to those with at least three waves, because those are the ones we ultimately use for the analysis.
The code below might duplicate some of the work of previous and later code, but I came back here for creating a plot for the paper, so I didn’t want to break anything.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-processing.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vectors holding number of participants and number of observations</span></span>
<span id="cb40-2"><a href="data-processing.html#cb40-2" aria-hidden="true" tabindex="-1"></a>PPs <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb40-3"><a href="data-processing.html#cb40-3" aria-hidden="true" tabindex="-1"></a>Observations <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb40-4"><a href="data-processing.html#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="data-processing.html#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># temp data set of people with at least three waves</span></span>
<span id="cb40-6"><a href="data-processing.html#cb40-6" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb40-7"><a href="data-processing.html#cb40-7" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb40-8"><a href="data-processing.html#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb40-9"><a href="data-processing.html#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-10"><a href="data-processing.html#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb40-11"><a href="data-processing.html#cb40-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-12"><a href="data-processing.html#cb40-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the exclusions we iterate over</span></span>
<span id="cb40-13"><a href="data-processing.html#cb40-13" aria-hidden="true" tabindex="-1"></a>exclusions <span class="ot">&lt;-</span> </span>
<span id="cb40-14"><a href="data-processing.html#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb40-15"><a href="data-processing.html#cb40-15" aria-hidden="true" tabindex="-1"></a>    exclusions_pp_1,</span>
<span id="cb40-16"><a href="data-processing.html#cb40-16" aria-hidden="true" tabindex="-1"></a>    exclusions_pp_2,</span>
<span id="cb40-17"><a href="data-processing.html#cb40-17" aria-hidden="true" tabindex="-1"></a>    exclusions_pp_3,</span>
<span id="cb40-18"><a href="data-processing.html#cb40-18" aria-hidden="true" tabindex="-1"></a>    exclusions_pp_4,</span>
<span id="cb40-19"><a href="data-processing.html#cb40-19" aria-hidden="true" tabindex="-1"></a>    exclusions_pp_5,</span>
<span id="cb40-20"><a href="data-processing.html#cb40-20" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_1,</span>
<span id="cb40-21"><a href="data-processing.html#cb40-21" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_2,</span>
<span id="cb40-22"><a href="data-processing.html#cb40-22" aria-hidden="true" tabindex="-1"></a>    exclusions_wave_3</span>
<span id="cb40-23"><a href="data-processing.html#cb40-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-24"><a href="data-processing.html#cb40-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-25"><a href="data-processing.html#cb40-25" aria-hidden="true" tabindex="-1"></a><span class="co"># iterate over each exclusion criterion list/tibble and extract how many are left after excluding those</span></span>
<span id="cb40-26"><a href="data-processing.html#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> exclusions) {</span>
<span id="cb40-27"><a href="data-processing.html#cb40-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is_tibble</span>(i)){</span>
<span id="cb40-28"><a href="data-processing.html#cb40-28" aria-hidden="true" tabindex="-1"></a>    PPs <span class="ot">&lt;-</span> <span class="fu">c</span>(PPs, dat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> i) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">PPs =</span> <span class="fu">length</span>(<span class="fu">unique</span>(id))) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(PPs))</span>
<span id="cb40-29"><a href="data-processing.html#cb40-29" aria-hidden="true" tabindex="-1"></a>    Observations <span class="ot">&lt;-</span> <span class="fu">c</span>(Observations, dat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> i) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(n))</span>
<span id="cb40-30"><a href="data-processing.html#cb40-30" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb40-31"><a href="data-processing.html#cb40-31" aria-hidden="true" tabindex="-1"></a>    PPs <span class="ot">&lt;-</span> </span>
<span id="cb40-32"><a href="data-processing.html#cb40-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb40-33"><a href="data-processing.html#cb40-33" aria-hidden="true" tabindex="-1"></a>        PPs,</span>
<span id="cb40-34"><a href="data-processing.html#cb40-34" aria-hidden="true" tabindex="-1"></a>        <span class="fu">anti_join</span>(</span>
<span id="cb40-35"><a href="data-processing.html#cb40-35" aria-hidden="true" tabindex="-1"></a>          dat,</span>
<span id="cb40-36"><a href="data-processing.html#cb40-36" aria-hidden="true" tabindex="-1"></a>          i</span>
<span id="cb40-37"><a href="data-processing.html#cb40-37" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-38"><a href="data-processing.html#cb40-38" aria-hidden="true" tabindex="-1"></a>          <span class="fu">summarise</span>(<span class="at">PPs =</span> <span class="fu">length</span>(<span class="fu">unique</span>(id))) <span class="sc">%&gt;%</span> </span>
<span id="cb40-39"><a href="data-processing.html#cb40-39" aria-hidden="true" tabindex="-1"></a>          <span class="fu">pull</span>(PPs)</span>
<span id="cb40-40"><a href="data-processing.html#cb40-40" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb40-41"><a href="data-processing.html#cb40-41" aria-hidden="true" tabindex="-1"></a>    Observations <span class="ot">&lt;-</span> </span>
<span id="cb40-42"><a href="data-processing.html#cb40-42" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb40-43"><a href="data-processing.html#cb40-43" aria-hidden="true" tabindex="-1"></a>        Observations,</span>
<span id="cb40-44"><a href="data-processing.html#cb40-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">anti_join</span>(</span>
<span id="cb40-45"><a href="data-processing.html#cb40-45" aria-hidden="true" tabindex="-1"></a>          dat,</span>
<span id="cb40-46"><a href="data-processing.html#cb40-46" aria-hidden="true" tabindex="-1"></a>          i</span>
<span id="cb40-47"><a href="data-processing.html#cb40-47" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-48"><a href="data-processing.html#cb40-48" aria-hidden="true" tabindex="-1"></a>          <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb40-49"><a href="data-processing.html#cb40-49" aria-hidden="true" tabindex="-1"></a>          <span class="fu">pull</span>(n)</span>
<span id="cb40-50"><a href="data-processing.html#cb40-50" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb40-51"><a href="data-processing.html#cb40-51" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb40-52"><a href="data-processing.html#cb40-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-53"><a href="data-processing.html#cb40-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-54"><a href="data-processing.html#cb40-54" aria-hidden="true" tabindex="-1"></a><span class="co"># our data for the plot</span></span>
<span id="cb40-55"><a href="data-processing.html#cb40-55" aria-hidden="true" tabindex="-1"></a>exclusion_plot_data <span class="ot">&lt;-</span> </span>
<span id="cb40-56"><a href="data-processing.html#cb40-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb40-57"><a href="data-processing.html#cb40-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Type&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;Participant-level&quot;</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="st">&quot;Wave-level&quot;</span>, <span class="dv">3</span>), <span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total Before&quot;</span>),</span>
<span id="cb40-58"><a href="data-processing.html#cb40-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Exclusion&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">&quot;Total&quot;</span>, <span class="st">&quot;Total Before&quot;</span>),</span>
<span id="cb40-59"><a href="data-processing.html#cb40-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;PPs&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb40-60"><a href="data-processing.html#cb40-60" aria-hidden="true" tabindex="-1"></a>      PPs,</span>
<span id="cb40-61"><a href="data-processing.html#cb40-61" aria-hidden="true" tabindex="-1"></a>      dat <span class="sc">%&gt;%</span> </span>
<span id="cb40-62"><a href="data-processing.html#cb40-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> exclusions_pp) <span class="sc">%&gt;%</span> </span>
<span id="cb40-63"><a href="data-processing.html#cb40-63" aria-hidden="true" tabindex="-1"></a>        <span class="fu">anti_join</span>(</span>
<span id="cb40-64"><a href="data-processing.html#cb40-64" aria-hidden="true" tabindex="-1"></a>          .,</span>
<span id="cb40-65"><a href="data-processing.html#cb40-65" aria-hidden="true" tabindex="-1"></a>          exclusions_wave</span>
<span id="cb40-66"><a href="data-processing.html#cb40-66" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-67"><a href="data-processing.html#cb40-67" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb40-68"><a href="data-processing.html#cb40-68" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-69"><a href="data-processing.html#cb40-69" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb40-70"><a href="data-processing.html#cb40-70" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(</span>
<span id="cb40-71"><a href="data-processing.html#cb40-71" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="fu">length</span>(<span class="fu">unique</span>(id))</span>
<span id="cb40-72"><a href="data-processing.html#cb40-72" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-73"><a href="data-processing.html#cb40-73" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pull</span>(n),</span>
<span id="cb40-74"><a href="data-processing.html#cb40-74" aria-hidden="true" tabindex="-1"></a>      <span class="fu">length</span>(<span class="fu">unique</span>(dat<span class="sc">$</span>id))</span>
<span id="cb40-75"><a href="data-processing.html#cb40-75" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-76"><a href="data-processing.html#cb40-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Observations&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb40-77"><a href="data-processing.html#cb40-77" aria-hidden="true" tabindex="-1"></a>      Observations,</span>
<span id="cb40-78"><a href="data-processing.html#cb40-78" aria-hidden="true" tabindex="-1"></a>      dat <span class="sc">%&gt;%</span> </span>
<span id="cb40-79"><a href="data-processing.html#cb40-79" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> exclusions_pp) <span class="sc">%&gt;%</span> </span>
<span id="cb40-80"><a href="data-processing.html#cb40-80" aria-hidden="true" tabindex="-1"></a>        <span class="fu">anti_join</span>(</span>
<span id="cb40-81"><a href="data-processing.html#cb40-81" aria-hidden="true" tabindex="-1"></a>          .,</span>
<span id="cb40-82"><a href="data-processing.html#cb40-82" aria-hidden="true" tabindex="-1"></a>          exclusions_wave</span>
<span id="cb40-83"><a href="data-processing.html#cb40-83" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-84"><a href="data-processing.html#cb40-84" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb40-85"><a href="data-processing.html#cb40-85" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-86"><a href="data-processing.html#cb40-86" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb40-87"><a href="data-processing.html#cb40-87" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(</span>
<span id="cb40-88"><a href="data-processing.html#cb40-88" aria-hidden="true" tabindex="-1"></a>          <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb40-89"><a href="data-processing.html#cb40-89" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span> </span>
<span id="cb40-90"><a href="data-processing.html#cb40-90" aria-hidden="true" tabindex="-1"></a>        <span class="fu">pull</span>(n),</span>
<span id="cb40-91"><a href="data-processing.html#cb40-91" aria-hidden="true" tabindex="-1"></a>      <span class="fu">nrow</span>(dat)</span>
<span id="cb40-92"><a href="data-processing.html#cb40-92" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-93"><a href="data-processing.html#cb40-93" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-94"><a href="data-processing.html#cb40-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-95"><a href="data-processing.html#cb40-95" aria-hidden="true" tabindex="-1"></a><span class="co"># clear workspace</span></span>
<span id="cb40-96"><a href="data-processing.html#cb40-96" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(PPs, Observations, exclusions, dat)</span></code></pre></div>
<p>Let’s apply participant-level exclusions.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-processing.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exclusions_pp contains all participant-level exclusions</span></span>
<span id="cb41-2"><a href="data-processing.html#cb41-2" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb41-3"><a href="data-processing.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb41-4"><a href="data-processing.html#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> exclusions_pp)</span></code></pre></div>
<p>Now that we’ve applied the participant-level exclusions, we also need to take a look at wave-level exclusions.
It’s quite possible that having excluded participants with low-quality data already excluded many of their low-quality rows as well.</p>
<p>I’ll check how many rows that we intended to exclude on the wave-level are already not in the data set anymore because the entire participant that row belongs to was excluded during participant-level exclusions.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-processing.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(</span>
<span id="cb42-2"><a href="data-processing.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  exclusions_wave,</span>
<span id="cb42-3"><a href="data-processing.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  working_file,</span>
<span id="cb42-4"><a href="data-processing.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;wave&quot;</span>)</span>
<span id="cb42-5"><a href="data-processing.html#cb42-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-6"><a href="data-processing.html#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code></pre></div>
<pre><code>## [1] 385</code></pre>
<p>Let’s take the data set after participant exclusions, exclude low-quality rows (i.e., waves) and count the number of waves again.</p>
Table <a href="data-processing.html#tab:show-wave-exclusions">2.16</a> shows the number of participants with at least a number of waves (after participant-level exclusions) next to the same number after excluding on the wave-level.
The sharpest drop is in the number of people who previously had completed six waves.
That’s not surprising because each unique participant in <code>exclusions_wave</code> (553 participants) who had previously completed six waves now drops down to five waves.
Probably there’s a correlation between sticking around for this long and motivation, such that motivation drops in later waves and there’s a higher chance to fulfill one of the exclusion criteria.
<strong>Overall, 5.13% of rows are excluded.</strong>
<table>
<caption>
<span id="tab:show-wave-exclusions">Table 2.16: </span>Participants with at least a number of waves before and after wave-level exclusion
</caption>
<thead>
<tr>
<th style="text-align:right;">
Waves
</th>
<th style="text-align:right;">
Participants per wave
</th>
<th style="text-align:right;">
Participants per wave after exclusions
</th>
<th style="text-align:right;">
Reduction proportion %
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3630
</td>
<td style="text-align:right;">
3513
</td>
<td style="text-align:right;">
3.22
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2648
</td>
<td style="text-align:right;">
2557
</td>
<td style="text-align:right;">
3.44
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2246
</td>
<td style="text-align:right;">
2159
</td>
<td style="text-align:right;">
3.87
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2027
</td>
<td style="text-align:right;">
1921
</td>
<td style="text-align:right;">
5.23
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1853
</td>
<td style="text-align:right;">
1704
</td>
<td style="text-align:right;">
8.04
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
1022
</td>
<td style="text-align:right;">
883
</td>
<td style="text-align:right;">
13.60
</td>
</tr>
</tbody>
</table>
<p>During model fitting, we’ll predict the outcome with the lagged value of the predictor.
If we merely exclude the rows participants will have gaps in their waves.
For example, a participant might have entries for waves 1-4, but wave 3 belongs to low-quality data rows.
We’d then be left with rows 1,2, and 4.
During model fitting, just lagging the value would mean the outcome at wave 4 is predicted by the predictor at wave 2 - effectively messing up our one-week lag between waves.</p>
<p>Therefore, it makes sense to maintain those rows whose data we exclude, but set them to <code>NA</code>.
This way, we don’t have “gaps” between waves.
In addition, if we want to impute missing values during model fitting (via the built-in <code>brms</code> imputation), we want to be able to know what value to impute, which is why we need the <code>NA</code> signal.</p>
<p>Let’s make those rows that have low quality data, then set all wave-level entries to <code>NA</code> on those rows.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-processing.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add marker to wave-level exclusions</span></span>
<span id="cb44-2"><a href="data-processing.html#cb44-2" aria-hidden="true" tabindex="-1"></a>exclusions_wave <span class="ot">&lt;-</span> </span>
<span id="cb44-3"><a href="data-processing.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  exclusions_wave <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="data-processing.html#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">set_to_na =</span> <span class="dv">1</span>)</span>
<span id="cb44-5"><a href="data-processing.html#cb44-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-6"><a href="data-processing.html#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># add that marker to working file</span></span>
<span id="cb44-7"><a href="data-processing.html#cb44-7" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb44-8"><a href="data-processing.html#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb44-9"><a href="data-processing.html#cb44-9" aria-hidden="true" tabindex="-1"></a>    working_file,</span>
<span id="cb44-10"><a href="data-processing.html#cb44-10" aria-hidden="true" tabindex="-1"></a>    exclusions_wave,</span>
<span id="cb44-11"><a href="data-processing.html#cb44-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;wave&quot;</span>)</span>
<span id="cb44-12"><a href="data-processing.html#cb44-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb44-13"><a href="data-processing.html#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="data-processing.html#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="co"># then set all wave-level entries to NA that have a marker</span></span>
<span id="cb44-15"><a href="data-processing.html#cb44-15" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span></span>
<span id="cb44-16"><a href="data-processing.html#cb44-16" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb44-17"><a href="data-processing.html#cb44-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-18"><a href="data-processing.html#cb44-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb44-19"><a href="data-processing.html#cb44-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb44-20"><a href="data-processing.html#cb44-20" aria-hidden="true" tabindex="-1"></a>        music_hours<span class="sc">:</span>well_being_2,</span>
<span id="cb44-21"><a href="data-processing.html#cb44-21" aria-hidden="true" tabindex="-1"></a>        music_time<span class="sc">:</span>total_time</span>
<span id="cb44-22"><a href="data-processing.html#cb44-22" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb44-23"><a href="data-processing.html#cb44-23" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">replace</span>(.x, set_to_na <span class="sc">==</span> <span class="dv">1</span>, <span class="cn">NA</span>)</span>
<span id="cb44-24"><a href="data-processing.html#cb44-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-25"><a href="data-processing.html#cb44-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb44-26"><a href="data-processing.html#cb44-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># remove marker</span></span>
<span id="cb44-27"><a href="data-processing.html#cb44-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>set_to_na)</span></code></pre></div>
</div>
</div>
<div id="build-scales" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Build scales</h2>
<p>As a last step, we’re creating the mean score scales.</p>
<p>Before we do that, we have to reverse code some items.
<code>identity</code> items had strongest agreement as 1.
I find it more intuitive when larger numbers mean more agreement.
The same applies to the well-being item about anxiety, which I will reverse code.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-processing.html#cb45-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb45-2"><a href="data-processing.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="data-processing.html#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-4"><a href="data-processing.html#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb45-5"><a href="data-processing.html#cb45-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">&quot;identity&quot;</span>),</span>
<span id="cb45-6"><a href="data-processing.html#cb45-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="dv">5</span> <span class="sc">-</span> .x</span>
<span id="cb45-7"><a href="data-processing.html#cb45-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-8"><a href="data-processing.html#cb45-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb45-9"><a href="data-processing.html#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">well_being_2 =</span> <span class="dv">10</span> <span class="sc">-</span> well_being_2 <span class="co"># starts at 0</span></span>
<span id="cb45-10"><a href="data-processing.html#cb45-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Let’s start with the identity scales; for each medium (except magazines and audiobooks), participants indicated how much that medium was part of their identity.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-processing.html#cb46-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb46-2"><a href="data-processing.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="data-processing.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-4"><a href="data-processing.html#cb46-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-5"><a href="data-processing.html#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># music</span></span>
<span id="cb46-6"><a href="data-processing.html#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">music_identity =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;music_identity&quot;</span>))),</span>
<span id="cb46-7"><a href="data-processing.html#cb46-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-8"><a href="data-processing.html#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># films</span></span>
<span id="cb46-9"><a href="data-processing.html#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">films_identity =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;films_identity&quot;</span>))),</span>
<span id="cb46-10"><a href="data-processing.html#cb46-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-11"><a href="data-processing.html#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># tv</span></span>
<span id="cb46-12"><a href="data-processing.html#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">tv_identity =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;tv_identity&quot;</span>))),</span>
<span id="cb46-13"><a href="data-processing.html#cb46-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-14"><a href="data-processing.html#cb46-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># games</span></span>
<span id="cb46-15"><a href="data-processing.html#cb46-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">games_identity =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;games_identity&quot;</span>))),</span>
<span id="cb46-16"><a href="data-processing.html#cb46-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb46-17"><a href="data-processing.html#cb46-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># epublishing</span></span>
<span id="cb46-18"><a href="data-processing.html#cb46-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">e_publishing_identity =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;e_publishing_identity&quot;</span>))),</span>
<span id="cb46-19"><a href="data-processing.html#cb46-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>And the well-being scales per wave (aka row).</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-processing.html#cb47-1" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb47-2"><a href="data-processing.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="data-processing.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-4"><a href="data-processing.html#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">life_satisfaction =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;life_satisfaction&quot;</span>))),</span>
<span id="cb47-5"><a href="data-processing.html#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">affect =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;well_being&quot;</span>))),</span>
<span id="cb47-6"><a href="data-processing.html#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">well_being =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;well_being&quot;</span>), <span class="fu">starts_with</span>(<span class="st">&quot;life_satisfaction&quot;</span>))) <span class="co"># both affect and well-being combined</span></span>
<span id="cb47-7"><a href="data-processing.html#cb47-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Before we move on to visualizations and descriptive info, I’ll do some housekeeping.
I’ll reorder some variables for cosmetic purposes, only select those we need, and clean the workspace.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-processing.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select relevant variables</span></span>
<span id="cb48-2"><a href="data-processing.html#cb48-2" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb48-3"><a href="data-processing.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="data-processing.html#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb48-5"><a href="data-processing.html#cb48-5" aria-hidden="true" tabindex="-1"></a>    id, </span>
<span id="cb48-6"><a href="data-processing.html#cb48-6" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb48-7"><a href="data-processing.html#cb48-7" aria-hidden="true" tabindex="-1"></a>    wave<span class="sc">:</span>filter_audiobooks,</span>
<span id="cb48-8"><a href="data-processing.html#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;music&quot;</span>),</span>
<span id="cb48-9"><a href="data-processing.html#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;films&quot;</span>),</span>
<span id="cb48-10"><a href="data-processing.html#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;tv&quot;</span>),</span>
<span id="cb48-11"><a href="data-processing.html#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;games&quot;</span>),</span>
<span id="cb48-12"><a href="data-processing.html#cb48-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;e_publishing&quot;</span>),</span>
<span id="cb48-13"><a href="data-processing.html#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;books&quot;</span>),</span>
<span id="cb48-14"><a href="data-processing.html#cb48-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;magazines&quot;</span>),</span>
<span id="cb48-15"><a href="data-processing.html#cb48-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;audiobooks&quot;</span>),</span>
<span id="cb48-16"><a href="data-processing.html#cb48-16" aria-hidden="true" tabindex="-1"></a>    total_time,</span>
<span id="cb48-17"><a href="data-processing.html#cb48-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;life_satisfaction&quot;</span>),</span>
<span id="cb48-18"><a href="data-processing.html#cb48-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;well_being&quot;</span>),</span>
<span id="cb48-19"><a href="data-processing.html#cb48-19" aria-hidden="true" tabindex="-1"></a>    affect,</span>
<span id="cb48-20"><a href="data-processing.html#cb48-20" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">&quot;hours&quot;</span>), <span class="co"># we got the total time from here on</span></span>
<span id="cb48-21"><a href="data-processing.html#cb48-21" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">&quot;minutes&quot;</span>),</span>
<span id="cb48-22"><a href="data-processing.html#cb48-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb48-23"><a href="data-processing.html#cb48-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-24"><a href="data-processing.html#cb48-24" aria-hidden="true" tabindex="-1"></a><span class="co"># clean workspace</span></span>
<span id="cb48-25"><a href="data-processing.html#cb48-25" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(</span>
<span id="cb48-26"><a href="data-processing.html#cb48-26" aria-hidden="true" tabindex="-1"></a>  markers,</span>
<span id="cb48-27"><a href="data-processing.html#cb48-27" aria-hidden="true" tabindex="-1"></a>  no_changes,</span>
<span id="cb48-28"><a href="data-processing.html#cb48-28" aria-hidden="true" tabindex="-1"></a>  waves_per_id,</span>
<span id="cb48-29"><a href="data-processing.html#cb48-29" aria-hidden="true" tabindex="-1"></a>  an_id,</span>
<span id="cb48-30"><a href="data-processing.html#cb48-30" aria-hidden="true" tabindex="-1"></a>  id_counter,</span>
<span id="cb48-31"><a href="data-processing.html#cb48-31" aria-hidden="true" tabindex="-1"></a>  id_to_match,</span>
<span id="cb48-32"><a href="data-processing.html#cb48-32" aria-hidden="true" tabindex="-1"></a>  ids,</span>
<span id="cb48-33"><a href="data-processing.html#cb48-33" aria-hidden="true" tabindex="-1"></a>  temp_id,</span>
<span id="cb48-34"><a href="data-processing.html#cb48-34" aria-hidden="true" tabindex="-1"></a>  three_media_and_waves</span>
<span id="cb48-35"><a href="data-processing.html#cb48-35" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>And then remove those who don’t have at least three waves.
For one model part, we’ll used led values, so two waves won’t be enough because that means a participant is left with only one wave once we lead a predictor.</p>
<p>Also, some participants now have missing values (because we applied the wave-level exclusions).
Missing values will be removed during model fitting, meaning that if someone has three waves, but two of them are <code>NA</code>, they’ll be left with one wave of data.
So I’ll filter the data set to only keep those with at least three waves with responses.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-processing.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get ids of participants who have at least three valid waves</span></span>
<span id="cb49-2"><a href="data-processing.html#cb49-2" aria-hidden="true" tabindex="-1"></a>at_least_three <span class="ot">&lt;-</span> </span>
<span id="cb49-3"><a href="data-processing.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="data-processing.html#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb49-5"><a href="data-processing.html#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(music_time)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-6"><a href="data-processing.html#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">n</span>() <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-7"><a href="data-processing.html#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="data-processing.html#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span>
<span id="cb49-9"><a href="data-processing.html#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="data-processing.html#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co"># then only keep those participants</span></span>
<span id="cb49-11"><a href="data-processing.html#cb49-11" aria-hidden="true" tabindex="-1"></a>working_file <span class="ot">&lt;-</span> </span>
<span id="cb49-12"><a href="data-processing.html#cb49-12" aria-hidden="true" tabindex="-1"></a>  working_file <span class="sc">%&gt;%</span> </span>
<span id="cb49-13"><a href="data-processing.html#cb49-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">%in%</span> at_least_three)</span>
<span id="cb49-14"><a href="data-processing.html#cb49-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-15"><a href="data-processing.html#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="co"># remove from workspace</span></span>
<span id="cb49-16"><a href="data-processing.html#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(at_least_three)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="setting-up.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="descriptives-and-visualizations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
